(this["webpackJsonpvite-staking"]=this["webpackJsonpvite-staking"]||[]).push([[0],{104:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(21),a=n(12),i=n(18),o=n(19),c=n(5),s=n.n(c),u=n(63),l=n(43),d=n(27),f=n(202),h=n(50),p=n(249).WS_RPC,b=Object(d.a)(),v={retryTimes:10,retryInterval:5e3},j=function(){function t(){var e=this;Object(i.a)(this,t),this._isConnected=void 0,this._connector=void 0,this._provider=void 0,this._client=void 0,this._emitter=void 0,this._walletManager=void 0,this._connectorFactory=void 0,this.initAsync=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e._connector=e._connectorFactory.create(n),e._provider=new p(n.rpcUrl,6e4,v);var a=!1;e._provider.on("error",(function(t){b.error(t)(),a||(r(t),e._isConnected=!1)})),e._client=new u.ViteAPI(e._provider,(function(){b.info("ViteAPI connected to ".concat(e._provider.path))(),a=!0,t(),e._isConnected=!0}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._isConnected=!1,this._emitter=Object(l.a)(),this._walletManager=Object(h.h)(),this._connectorFactory=new h.e(this._walletManager)}return Object(o.a)(t,[{key:"isConnected",get:function(){return this._isConnected}},{key:"connector",get:function(){return this._connector}},{key:"dispose",value:function(){var e;b.info("Disposing ViteClient")(),null===(e=this._provider)||void 0===e||e.disconnect(),this._isConnected=!1}},{key:"requestAsync",value:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isConnected||!this._client){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.abrupt("return",(n=this._client).request.apply(n,[t].concat(a)));case 5:return e.abrupt("return",Promise.reject("Vite client is not ready to make requests."));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callContractAsync",value:function(){var e=Object(a.a)(s.a.mark((function e(t,n,r,a,i,o,c){var l,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=u.accountBlock.createAccountBlock("callContract",{address:t.address,abi:r,methodName:n,tokenId:i,amount:o,toAddress:c,params:a}),!(t instanceof h.g)){e.next=11;break}return l=l.setProvider(this._client).setPrivateKey(t.privateKey),e.next=5,l.autoSetPreviousAccountBlock();case 5:return e.next=7,l.sign().send();case 7:return d=e.sent,e.abrupt("return",d);case 11:if(!(t instanceof h.b)){e.next=31;break}if(!this.connector){e.next=28;break}return this._emitter.emitConfirmTransactionDialog(!0),e.prev=14,e.next=17,this.connector.sendTransactionAsync({block:l.accountBlock});case 17:return f=e.sent,this._emitter.emitConfirmTransactionDialog(!1),e.abrupt("return",f);case 22:throw e.prev=22,e.t0=e.catch(14),this._emitter.emitConfirmTransactionDialog(!1),e.t0;case 26:e.next=29;break;case 28:throw new Error("Connector is not defined");case 29:e.next=32;break;case 31:throw new Error("Account not supported");case 32:case"end":return e.stop()}}),e,this,[[14,22]])})));return function(t,n,r,a,i,o,c){return e.apply(this,arguments)}}()},{key:"callOffChainMethodAsync",value:function(){var t=Object(a.a)(s.a.mark((function t(n,r,a,i){var o,c,l,d,f,h,p,b,v;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.abi.encodeFunctionCall(r,i),c=e.from(o,"hex").toString("base64"),t.next=4,this.requestAsync("contract_callOffChainMethod",{selfAddr:n,offChainCode:a,data:c});case 4:if(!(l=t.sent)){t.next=13;break}for(d=e.from(l,"base64").toString("hex"),f=[],h=0;h<r.outputs.length;h++)f.push(r.outputs[h].type);if(p=u.abi.decodeParameters(f,d),b=[],p)for(v=0;v<r.outputs.length;v++)r.outputs[v].name?b.push({name:r.outputs[v].name,value:p[v]}):b.push({name:"",value:p[v]});return t.abrupt("return",b);case 13:return t.abrupt("return","");case 14:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"decodeVmLog",value:function(e,t){for(var n=e.topics,r=0;r<t.length;r++){var a=t[r];if(u.abi.encodeLogSignature(a)===n[0])if(e.data)return{topic:n[0],args:u.abi.decodeLog(a.inputs,u.utils._Buffer.from(e.data,"base64").toString("hex"),n.slice(1)),event:a.name}}}},{key:"createAddressListenerAsync",value:function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={addressHeightRange:{placeholder:{fromHeight:"0",toHeight:"0"}}},a=(a=JSON.stringify(r)).replace("placeholder",t),e.next=5,null===(n=this._client)||void 0===n?void 0:n.subscribe("createVmlogSubscription",JSON.parse(a));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeListener",value:function(e){var t;null===(t=this._client)||void 0===t||t.unsubscribe(e)}},{key:"waitForAccountBlockAsync",value:function(){var e=Object(a.a)(s.a.mark((function e(t,n){var i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(a.a)(s.a.mark((function e(o,c){var u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=void 0,l=void 0,new f.a(Object(a.a)(s.a.mark((function e(){var a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.requestAsync("ledger_getAccountBlockByHeight",t,n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:if(o=a.receiveBlockHash){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,i.requestAsync("ledger_getAccountBlockByHash",o);case 11:if(c=e.sent){e.next=14;break}return e.abrupt("return",!0);case 14:return u=Object(r.a)(Object(r.a)({},i.getAccountBlockStatus(c)),{},{accountBlock:c}),e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(0),l=e.t0,e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),500).start((function(){l?c(l):o(u)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAccountBlockStatus",value:function(e){var t=this.resolveAccountBlockData(e),n="";switch(t){case 0:n="0, Execution succeed";break;case 1:n="1, Execution reverted";break;case 2:n="2, Max call depth exceeded"}return{status:t,statusTxt:n}}},{key:"resolveAccountBlockData",value:function(e){if(4!==e.blockType&&5!==e.blockType||!e.data)return 0;var t=u.utils._Buffer.from(e.data,"base64");return 33!==t.length?0:t[32]}}]),t}(),m=new j,k=function(){return m}}).call(this,n(84).Buffer)},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(18),i=n(19),o=n(5),c=n.n(o),s=function(){function e(t,n){return Object(a.a)(this,e),this._taskTimer=void 0,this._taskInterval=void 0,this._task=void 0,this._callback=void 0,this._task=t,this._taskInterval=n,this}return Object(i.a)(e,[{key:"_run",value:function(){var e=this;this._taskTimer=setTimeout(Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._task){t.next=3;break}return e._onStop(),t.abrupt("return");case 3:return t.next=5,e._task();case 5:if(t.sent){t.next=8;break}return e._onStop(),t.abrupt("return");case 8:e._run();case 9:case"end":return t.stop()}}),t)}))),this._taskInterval)}},{key:"_onStop",value:function(){this._callback&&this._callback()}},{key:"start",value:function(e){this._callback=e,this._taskTimer||this._run()}},{key:"stop",value:function(){this._onStop(),this._taskTimer&&(window.clearTimeout(this._taskTimer),this._taskTimer=void 0)}}]),e}()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(26),a={APP_NAME:"Staking Pools",WEB_WALLET_STORAGE_SPACE:"VSP_WEB_WALLET",SESSION_WALLET_STORAGE_SPACE:"VSP_SESSION_WALLET",POOLS_CONTRACT_ADDRESS_v04:"vite_12e90482e9e13bbbeb1919e7993ffadd375f6b7aa483452cbf",POOLS_CONTRACT_ADDRESS_v03:"vite_6217fbda565d83ea03d23034054fb036a0d7a540993354e1e6",POOLS_CONTRACT_ADDRESS_v02:"vite_6b97e21d57909a881db29385b2339725ebbdf708b9eb487985",POOLS_CONTRACT_ADDRESS_v01:"vite_65ea4fbb8fc4a0f5cac745e0a97844ff2e9e4287aa0c35a28f",POOLS_CONTRACT_ADDRESS_TESTNET:"vite_bf52ded4994c8bf69628db1ef359dd9123dfe378048803f61c",VITE_TOKEN_ID:"tti_5649544520544f4b454e6e40",REWARD_FACTOR:1e36},i=[{id:1,networkId:1,name:"MAINNET v0.4",rpcUrl:"wss://vitestats.com/ws",connectorUrl:"wss://biforst.vite.net"},{id:2,networkId:1,name:"MAINNET v0.3",rpcUrl:"wss://vitestats.com/ws",connectorUrl:"wss://biforst.vite.net"},{id:3,networkId:2,name:"TESTNET",rpcUrl:"wss://buidl.vite.net/gvite/ws",connectorUrl:"wss://biforst.vite.net"},{id:4,networkId:2,name:"TESTNET+MOCK",rpcUrl:"wss://buidl.vite.net/gvite/ws",connectorUrl:"wss://biforst.vite.net"},{id:5,networkId:5,name:"DEBUG",rpcUrl:"ws://localhost:23457",connectorUrl:"wss://biforst.vite.net"},{id:6,networkId:1,name:"MAINNET v0.2",rpcUrl:"wss://vitestats.com/ws",connectorUrl:"wss://biforst.vite.net"},{id:7,networkId:1,name:"MAINNET v0.1",rpcUrl:"wss://vitestats.com/ws",connectorUrl:"wss://biforst.vite.net"}],o={Pool:"Pool",PoolUserInfo:"PoolUserInfo",Token:"Token"},c={__typename:o.Token,id:"-1",name:"UNKNOWN",symbol:"UNKNOWN",originalSymbol:"UNKNOWN",decimals:0,iconUrl:void 0,url:void 0},s=new Map([["tti_11ab030f38ab5ebf9379e931",{__typename:o.Token,id:"tti_11ab030f38ab5ebf9379e931",name:"VXX",symbol:"VXX-000",originalSymbol:"VXX",decimals:18,iconUrl:"localvx.png",url:"https://coinmarketcap.com/currencies/vitex-coin/"}],["tti_2511d9c93e4f98318ee`f6f56",{__typename:o.Token,id:"tti_2511d9c93e4f98318eef6f56",name:"Viva",symbol:"VIVA-001",originalSymbol:"VIVA",decimals:18,iconUrl:"localviva.png",url:"https://vivafi.org"}],["tti_5649544520544f4b454e6e40",{__typename:o.Token,id:"tti_5649544520544f4b454e6e40",name:"VITE",symbol:"VITE",originalSymbol:"VITE",decimals:18,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/e6dec7dfe46cb7f1c65342f511f0197c.png",url:"https://vite.org/"}],["tti_a23c2f75791efafe5fada99e",{__typename:o.Token,id:"tti_a23c2f75791efafe5fada99e",name:"VIVA",symbol:"VIVA-000",originalSymbol:"VIVA",decimals:18,iconUrl:"https://static.vite.net/crypto-info/tokens/viva/tti_a23c2f75791efafe5fada99e.png",url:"https://vivafi.org"}],["tti_b90c9baffffc9dae58d1f33f",{__typename:o.Token,id:"tti_b90c9baffffc9dae58d1f33f",name:"Bitcoin",symbol:"BTC-000",originalSymbol:"BTC",decimals:8,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/7b04d1b14726fa3c20aa32daa946366f.png",url:"https://bitcoin.org/en/"}],["tti_29a2af20212b985e9d49e899",{__typename:o.Token,id:"tti_29a2af20212b985e9d49e899",name:"Nano",symbol:"NANO-001",originalSymbol:"NANO",decimals:30,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/tti_29a2af20212b985e9d49e899.png",url:"https://nano.org/"}],["tti_564954455820434f494e69b5",{__typename:"Token",id:"tti_564954455820434f494e69b5",name:"ViteX Coin",symbol:"VX",originalSymbol:"VX",decimals:18,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/da32251cdc6b4e88963523659d705b83.png",url:"https://vitex.net/"}],["tti_80f3751485e4e83456059473",{__typename:"Token",id:"tti_80f3751485e4e83456059473",name:"Tether USD",symbol:"USDT-000",originalSymbol:"USDT",decimals:6,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/c746e8a95dff8ce193c462554feb61bf.png",url:"https://tether.to/"}],["tti_687d8a93915393b219212c73",{__typename:"Token",id:"tti_687d8a93915393b219212c73",name:"Ethereum",symbol:"ETH-000",originalSymbol:"ETH",decimals:18,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/4260d31a557c9084bdaef65d15cec36d.png",url:"https://www.ethereum.org/"}],["tti_ac7cb5fe2e5b1f5240691657",{__typename:"Token",id:"tti_ac7cb5fe2e5b1f5240691657",name:"FARM",symbol:"FARM-000",originalSymbol:"FARM",decimals:18,iconUrl:"https://static.vite.net/crypto-info/tokens/FARM/tti_ac7cb5fe2e5b1f5240691657.png",url:""}],["tti_b3fbb46b9318b3d168ba904e",{__typename:"Token",id:"tti_b3fbb46b9318b3d168ba904e",name:"ViCat",symbol:"VICAT-000",originalSymbol:"VICAT",decimals:7,iconUrl:"https://static.vite.net/crypto-info/tokens/VICAT/tti_b3fbb46b9318b3d168ba904e.png",url:"https://vicat.tech/"}],["tti_135ae433038c18fe0797f528",{__typename:"Token",id:"tti_135ae433038c18fe0797f528",name:"ViCatBNB LP",symbol:"VICATBNB-000",originalSymbol:"VICATBNB",decimals:18,iconUrl:"https://static.vite.net/crypto-info/tokens/VICATBNB/tti_135ae433038c18fe0797f528.png",url:"https://vicat.tech/"}],["tti_f370fadb275bc2a1a839c753",{__typename:"Token",id:"tti_f370fadb275bc2a1a839c753",name:"Epic Cash",symbol:"EPIC-002",originalSymbol:"EPIC",decimals:8,iconUrl:"https://static.vite.net/crypto-info/tokens/epic/tti_f370fadb275bc2a1a839c753.png",url:"https://epic.tech/"}],["tti_541b25bd5e5db35166864096",{__typename:"Token",id:"tti_541b25bd5e5db35166864096",name:"VITA INU",symbol:"VINU-001",originalSymbol:"VINU",decimals:18,iconUrl:"https://static.vite.net/token-profile-1257137467/icon/tti_541b25bd5e5db35166864096.png",url:"https://twitter.com/VitaInuCoin"}],["tti_d05920af6f485fa52ffe4e69",{__typename:"Token",id:"tti_d05920af6f485fa52ffe4e69",name:"VIVABNB LP",symbol:"VIVABNB-000",originalSymbol:"VIVABNB",decimals:18,iconUrl:"localvivabnb.png",url:"https://twitter.com/vivastakingpool"}]]),u=[{name:"",type:"DEFAULT"},{name:"APR",type:"APR"},{name:"Total staked",type:"TOTAL_STAKED"}],l={stakedOnly:!1,showLive:!0,sortBy:u[r.c.DEFAULT].type,search:""}},256:function(e,t){},258:function(e,t){},26:function(e,t,n){"use strict";var r,a,i,o;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.APR=1]="APR",e[e.TOTAL_STAKED=2]="TOTAL_STAKED"}(r||(r={})),function(e){e[e.DEPOSIT=0]="DEPOSIT",e[e.WITHDRAW=1]="WITHDRAW",e[e.CLAIM=2]="CLAIM"}(a||(a={})),function(e){e.ConfirmTransactionDialog="ConfirmTransactionDialog",e.ConnectWalletDialog="ConnectWalletDialog",e.NetworkBlockHeightChanged="NetworkBlockHeightChanged",e.PoolFilterValuesChanged="PoolFilterValuesChanged",e.PoolDeposit="PoolDeposit",e.PoolWithdraw="PoolWithdraw",e.PoolUpdate="PoolUpdate"}(i||(i={})),function(e){e.PoolCreated="PoolCreated",e.Deposit="Deposit",e.Withdraw="Withdraw"}(o||(o={}))},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19),a=n(18),i=n(36),o=Object(r.a)((function e(t){Object(a.a)(this,e),this.banner=void 0,this.args=void 0,Object.assign(this,t)})),c=function(){},s=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"isEnabled",get:function(){return Boolean("true")}},{key:"timestamp",value:function(e){return"[".concat(e," ").concat((new Date).toLocaleTimeString(),"]")}},{key:"createLogEventModel",value:function(e){for(var t=function(e){return i.a.isString(e)?e:e instanceof Error?e.message:i.a.toJsonString(e)},n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var c=new o({banner:this.timestamp(e),args:null===r||void 0===r?void 0:r.map((function(e){return Array.isArray(e)?e.map((function(e){return t(e)})):t(e)}))});return c}},{key:"debug",get:function(){var e=this;return this.isEnabled?function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=e.createLogEventModel("DEBUG",r);return(t=Function.prototype.bind).call.apply(t,[console.debug,console,i.banner].concat(r))}:c}},{key:"info",get:function(){var e=this;return this.isEnabled?function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=e.createLogEventModel("INFO",r);return(t=Function.prototype.bind).call.apply(t,[console.info,console,i.banner].concat(r))}:c}},{key:"warn",get:function(){var e=this;return this.isEnabled?function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=e.createLogEventModel("WARN",r);return(t=Function.prototype.bind).call.apply(t,[console.warn,console,i.banner].concat(r))}:c}},{key:"error",get:function(){var e=this;return this.isEnabled?function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(null===r||void 0===r?void 0:r.length)>0&&(i.a.isString(r[0])||r.push("(See console output for more information.)"));var o=e.createLogEventModel("ERROR",r);return(t=Function.prototype.bind).call.apply(t,[console.error,console,o.banner].concat(r))}:c}}]),e}(),u=new s,l=function(){return u}},293:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n.n(a),o=n(75),c=n.n(o),s=n(361),u=n(384),l=n(360),d=n(6),f=n(15),h=n.n(f),p=n(149),b=n.p+"static/media/bg2.36ac1f86.svg",v=n(21),j=n(18),m=n(19),k=n(44),O=n(45),g=n(363),w=n(366),x=n(365),y=n(12),_=n(5),A=n.n(_),T=n(104),S=n(204),C=n.n(S),I=new(function(){function e(){Object(j.a)(this,e),this._iconUrlMap=void 0,this._coinMarketCapMap=void 0,this._coingeckoMap=void 0,this._iconUrlMap=new Map([["https://static.vite.net/token-profile-1257137467/icon/e6dec7dfe46cb7f1c65342f511f0197c.png","./assets/coins/vite.png"],["https://static.vite.net/token-profile-1257137467/icon/5faa1fa2b952137081e36c51af2b493c.png","./assets/coins/usdc.png"],["https://static.vite.net/token-profile-1257137467/icon/3c231a8309999ad226afa097488a6158.png","./assets/coins/dai.png"],["localdai.png","./assets/coins/dai.png"],["localvx.png","./assets/coins/vx.png"],["localviva.png","./assets/coins/viva.png"],["localvivabnb.png","./assets/coins/vivabnb.png"]]),this._coinMarketCapMap=new Map,this._coingeckoMap=new Map([["PancakeSwap","pancakeswap-token"]])}return Object(m.a)(e,[{key:"mapIconUrl",value:function(e){if(!e)return"";var t=this._iconUrlMap.get(e);return null!==t&&void 0!==t?t:e}},{key:"mapCoinMarketCapName",value:function(e){var t=this._coinMarketCapMap.get(e);return null!==t&&void 0!==t?t:e.replace(" ","-").toLowerCase()}},{key:"mapCoingeckoName",value:function(e){var t=this._coingeckoMap.get(e);return null!==t&&void 0!==t?t:e.replace(" ","-").toLowerCase()}}]),e}()),N=function(){return I},E=n(27),P=Object(E.a)(),B=function(){function e(){Object(j.a)(this,e),this._client=void 0,this._coinUtil=void 0,this._client=new C.a,this._coinUtil=N()}return Object(m.a)(e,[{key:"getTokenPriceUSDAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this._coinUtil.mapCoingeckoName(t),a={ids:r},e.next=5,this._client.simple.price(a);case 5:if(i=e.sent,void 0!==(o=null===i||void 0===i||null===(n=i.data[r])||void 0===n?void 0:n.usd)){e.next=9;break}return e.abrupt("return",new h.a(0));case 9:return e.abrupt("return",new h.a(o));case 12:return e.prev=12,e.t0=e.catch(0),P.error(e.t0)(),e.abrupt("return",new h.a(0));case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),D=new B,M=n(167),W=n.n(M),R=function(){function e(){Object(j.a)(this,e),this._baseUrl_v1=void 0,this._baseUrl_v2=void 0,this._baseUrl_v1="https://vitex.vite.net",this._baseUrl_v2="https://api.vitex.net"}return Object(m.a)(e,[{key:"getTokenDetailAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(this._baseUrl_v1+"/api/v1/token/detail?tokenId="+t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenPriceAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(this._baseUrl_v2+"/api/v2/exchange-rate?tokenIds="+t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenPriceUSDAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getTokenPriceAsync(t);case 3:return n=e.sent,e.abrupt("return",new h.a(n[0].usdRate));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",new h.a(0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),U=new R,F=n(24),L=n(43),V=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"notNull",value:function(e,t,n){if(null===e||void 0===e)throw n?new Error(n):new Error("Unexpected null exception. "+t)}},{key:"notNullOrWhiteSpace",value:function(e,t,n){if(null===e||void 0===e||""===(null===e||void 0===e?void 0:e.trim()))throw n?new Error(n):new Error("Unexpected null exception. "+t)}},{key:"maxLength",value:function(e,t,n){if(e&&e.length>n)throw new Error("".concat(t," exceeds the maximum length of ").concat(n))}}]),e}(),H=n(92),q=n.n(H),z=function(){function e(t){Object(j.a)(this,e),this._locale=void 0,this._locale=t||navigator.language,q.a.locale(this._locale)}return Object(m.a)(e,[{key:"getLocale",value:function(){return this._locale}},{key:"get",value:function(){return q()()}},{key:"getDuration",value:function(e){return q.a.duration(e,"seconds")}},{key:"getFromUnix",value:function(e){return q.a.unix(e)}},{key:"getFromMilliseconds",value:function(e){return q()(e,"x")}},{key:"getLocal",value:function(e){return q.a.utc(e).local()}},{key:"getLocalTime",value:function(e){return this.getLocal(e).format("LTS")}},{key:"getLocalDate",value:function(e){return this.getLocal(e).format("L")}},{key:"getLocalFormatted",value:function(e){return this.getLocalTime(e)+" "+this.getLocalDate(e)}},{key:"getLocalReverseFormatted",value:function(e){return this.getLocalDate(e)+" "+this.getLocalTime(e)}},{key:"isExpired",value:function(e){try{return e>=0&&q.a.utc().unix()>=e}catch(t){return!1}}}]),e}(),K=n(50),$=Object(E.a)(),J=function(){function e(){Object(j.a)(this,e),this._emitter=void 0,this._walletManager=void 0,this._coingeckoClient=void 0,this._vitexClient=void 0,this._coinUtil=void 0,this._tokens=void 0,this._moment=new z,this._emitter=Object(L.a)(),this._walletManager=Object(K.h)(),this._coingeckoClient=D,this._vitexClient=U,this._coinUtil=N(),this._tokens=new Map}return Object(m.a)(e,[{key:"initAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.info("Init BaseDataSource")(),this._moment=new z,e.next=4,this.initAsyncProtected();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){$.info("Disposing BaseDataSource")(),this._tokens.clear(),this.disposeProtected()}},{key:"getAccount",value:function(){var e=this._walletManager.getActiveAccount();return V.notNull(e,"account","Please connect your wallet first."),e}},{key:"getAprAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.endTimestamp>=0)||!this._moment.isExpired(t.endTimestamp)&&t.latestRewardBlock!==t.endBlock){e.next=3;break}return e.abrupt("return",void 0);case 3:return n=new h.a(10).pow(t.stakingToken.decimals-t.rewardToken.decimals),e.next=6,this.getTokenPriceUSDAsync(t.stakingToken);case 6:return r=e.sent,e.next=9,this.getTokenPriceUSDAsync(t.rewardToken);case 9:return a=e.sent,i=t.endBlock.minus(t.startBlock),o=new h.a(31536e3),c=new h.a(100),s=a.times(n).times(t.totalRewards).dividedBy(r.times(t.totalStaked).times(i)).times(o).times(c),e.abrupt("return",!s.isFinite()||s.isNaN()?void 0:s);case 17:return e.prev=17,e.t0=e.catch(0),$.error(e.t0)(),e.abrupt("return",void 0);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenPriceUSDAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._vitexClient.getTokenPriceUSDAsync(t.id));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",new h.a(0));case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getEndTimestampAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&!t.lte(0)){e.next=3;break}return e.abrupt("return",-1);case 3:return e.next=5,this.getNetworkBlockHeightAsync();case 5:if(n=e.sent,!(r=t.minus(n)).lte(0)){e.next=9;break}return e.abrupt("return",0);case 9:return e.abrupt("return",this._moment.get().add(r.toNumber(),"seconds").unix());case 12:e.prev=12,e.t0=e.catch(0),$.error(e.t0)();case 15:return e.abrupt("return",0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=this._tokens.get(t))){e.next=4;break}return e.abrupt("return",n);case 4:if(!(r=F.b.get(t))){e.next=7;break}return e.abrupt("return",r);case 7:return e.next=9,this._vitexClient.getTokenDetailAsync(t);case 9:if(!(a=e.sent)){e.next=14;break}return i={__typename:"Token",id:t,name:a.name,symbol:a.symbol,originalSymbol:a.originalSymbol,decimals:a.tokenDecimals,iconUrl:a.urlIcon,url:a.links.website},this._tokens.set(t,i),e.abrupt("return",i);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),$.error(e.t0)();case 19:return o=Object(v.a)(Object(v.a)({},F.g),{},{id:t}),this._tokens.set(t,o),e.abrupt("return",o);case 22:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toPoolAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTokenAsync(n.stakingTokenId);case 2:return r=e.sent,e.next=5,this.getTokenAsync(n.rewardTokenId);case 5:return a=e.sent,e.next=8,this.getEndTimestampAsync(new h.a(n.endBlock));case 8:return i=e.sent,o={__typename:F.f.Pool,id:t,stakingToken:r,rewardToken:a,totalStaked:new h.a(n.totalStakingBalance),totalRewards:new h.a(n.totalRewardBalance),startBlock:new h.a(n.startBlock),endBlock:new h.a(n.endBlock),endTimestamp:i,latestRewardBlock:new h.a(n.latestRewardBlock),rewardPerPeriod:new h.a(n.rewardPerPeriod),rewardPerToken:new h.a(n.rewardPerToken),paidOut:new h.a(n.paidOut),minimumDeposit:new h.a(n.minimumDeposit),maximumTotalStakingBalance:new h.a(n.maximumTotalStakingBalance),lockTime:new h.a(n.lockTime),fetchTimestamp:this._moment.get().unix()},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"toPoolUserInfoAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{__typename:F.f.PoolUserInfo,id:"".concat(t.address,"_").concat(t.poolId),poolId:t.poolId,account:t.address,stakingBalance:new h.a(t.stakingBalance),rewardDebt:new h.a(t.rewardDebt)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),G=n(205),X=n(91),Q=n(61),Y=n(36),Z=(n(206),Object(m.a)((function e(){Object(j.a)(this,e)}))),ee=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"readFileAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.text());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Z);!function(e){e[e.Browser=0]="Browser",e[e.Local=1]="Local"}(r||(r={}));var te,ne,re,ae,ie,oe,ce,se,ue,le,de,fe,he=Object(E.a)(),pe=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ee;return Object(j.a)(this,n),(e=t.call(this))._fileUtil=void 0,e._pools=void 0,e._users=void 0,e._networkBlockHeight=void 0,e._networkBlockHeightInterval=void 0,e._fileUtil=r,e._pools=[],e._users=[],e._networkBlockHeight=new h.a(0),he.info("MockDataSource loaded")(),e}return Object(m.a)(n,[{key:"initNetworkBlockHeight",value:function(){var e=this;this._networkBlockHeight=new h.a(0),this._networkBlockHeightInterval=setInterval((function(){e._networkBlockHeight=e._networkBlockHeight.plus(1)}),1e3)}},{key:"initPoolsAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){var t,n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fileUtil.readFileAsync("./assets/data/mock_pool_info.json");case 2:t=e.sent,t=JSON.parse(t),this._pools=[],n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.toPoolAsync(n,r);case 10:return a=e.sent,e.next=13,this.getAprAsync(a);case 13:a.apr=e.sent,this._pools.push(a);case 15:n++,e.next=6;break;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAprAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.id,e.next=0===e.t0?3:1===e.t0?4:5;break;case 3:return e.abrupt("return",new h.a(2.12345678));case 4:return e.abrupt("return",new h.a(3.55555555));case 5:return e.abrupt("return",Object(X.a)(Object(Q.a)(n.prototype),"getAprAsync",this).call(this,t));case 6:case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initPoolUsersAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){var t,n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fileUtil.readFileAsync("./assets/data/mock_user_info.json");case 2:t=e.sent,t=JSON.parse(t),this._users=[],n=0;case 6:if(!(n<t.length)){e.next=15;break}return r=t[n],e.next=10,this.toPoolUserInfoAsync(r);case 10:a=e.sent,this._users.push(a);case 12:n++,e.next=6;break;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initAsyncProtected",value:function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he.info("MockDataSource initAsyncProtected")(),this.initNetworkBlockHeight(),e.next=4,this.initPoolsAsync();case 4:return e.next=6,this.initPoolUsersAsync();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disposeProtected",value:function(){this._networkBlockHeightInterval&&clearInterval(this._networkBlockHeightInterval)}},{key:"getAccountBalanceAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new h.a(0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNetworkBlockHeightAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._networkBlockHeight);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPoolAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.timeout(Y.a.random(100,500));case 2:if(r=this._pools[t],n){e.next=5;break}return e.abrupt("return",r);case 5:return e.t0=v.a,e.t1=Object(v.a)({},r),e.t2={},e.next=10,this.getPoolUserInfoAsync(t,n);case 10:return e.t3=e.sent,e.t4={userInfo:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolsAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.timeout(1e3);case 2:if(t){e.next=4;break}return e.abrupt("return",this._pools);case 4:n=[],r=Object(G.a)(this._pools),e.prev=6,r.s();case 8:if((a=r.n()).done){e.next=17;break}return i=a.value,e.t0=n,e.next=13,this.getPoolAsync(i.id,t);case 13:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(6),r.e(e.t2);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this,[[6,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolUserInfoAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y.a.isNullOrWhitespace(n)){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",this._users.find((function(e){return e.poolId===t&&e.account.toLowerCase()===(null===n||void 0===n?void 0:n.toLowerCase())})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTotalPoolsAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pools.length);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updatePoolAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetworkBlockHeightAsync();case 2:if(n=e.sent,!((r=n<t.endBlock?n:t.endBlock)<=t.latestRewardBlock)){e.next=6;break}return e.abrupt("return");case 6:if(!t.totalStaked.eq(0)){e.next=9;break}return t.latestRewardBlock=r,e.abrupt("return");case 9:a=r.minus(t.latestRewardBlock),i=t.rewardPerPeriod.times(a).times(F.a.REWARD_FACTOR).div(t.totalStaked),t.rewardPerToken=t.rewardPerToken.plus(i),t.latestRewardBlock=r;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"depositAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n,r){var a,i,o,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.timeout(1e3);case 2:return a=this._pools[t],e.next=5,this._updatePoolAsync(a);case 5:return i=new h.a(r),o=this.getAccount().address,e.next=9,this.getPoolUserInfoAsync(t,o);case 9:if(!(c=e.sent)){e.next=16;break}c.stakingBalance.gt(0)&&(s=c.stakingBalance.times(a.rewardPerToken).div(F.a.REWARD_FACTOR).minus(c.rewardDebt),a.paidOut=a.paidOut.plus(s)),c.stakingBalance=c.stakingBalance.plus(i),c.rewardDebt=c.stakingBalance.times(a.rewardPerToken).div(F.a.REWARD_FACTOR),e.next=20;break;case 16:return e.next=18,this.toPoolUserInfoAsync({poolId:t,address:o,stakingBalance:i.toString(),rewardDebt:"0"});case 18:c=e.sent,this._users.push(c);case 20:return a.totalStaked=a.totalStaked.plus(i),this._emitter.emitPoolDeposit(t,new h.a(r),o),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"withdrawAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a,i,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.timeout(1e3);case 2:return r=this._pools[t],e.next=5,this._updatePoolAsync(r);case 5:return a=new h.a(n),i=this.getAccount().address,e.next=9,this.getPoolUserInfoAsync(t,i);case 9:if(o=e.sent){e.next=12;break}throw new Error("Withdraw not possible");case 12:if(!o.stakingBalance.lte(0)&&!a.gt(o.stakingBalance)){e.next=14;break}throw new Error("Insufficient balance");case 14:return c=o.stakingBalance.times(r.rewardPerToken).div(F.a.REWARD_FACTOR).minus(o.rewardDebt),r.paidOut=r.paidOut.plus(c),o.stakingBalance=o.stakingBalance.minus(a),r.totalStaked=r.totalStaked.minus(a),o.rewardDebt=o.stakingBalance.times(r.rewardPerToken).div(F.a.REWARD_FACTOR),this._emitter.emitPoolWithdraw(t,new h.a(n),i),e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(J),be=new pe,ve=function(){return be},je=function(){function e(t,n){Object(j.a)(this,e),this._duration=void 0,this._callbackFn=void 0,this._currentValue=void 0,this._lastExecution=void 0,this._duration=t,this._callbackFn=n,this._lastExecution=new Date(0).getTime()}return Object(m.a)(e,[{key:"isExpired",value:function(){return(new Date).getTime()>=this._lastExecution+this._duration}},{key:"getAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._currentValue&&!this.isExpired()){e.next=5;break}return e.next=3,this._callbackFn();case 3:this._currentValue=e.sent,this._lastExecution=(new Date).getTime();case 5:return e.abrupt("return",this._currentValue);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),me=n(26),ke=Object(E.a)(),Oe=new(function(){function e(){Object(j.a)(this,e),this._networkHeight=void 0,this._network=void 0,this._setNetworkCallback=void 0,this._networkHeight=new h.a(0)}return Object(m.a)(e,[{key:"networkHeight",get:function(){return this._networkHeight},set:function(e){this._networkHeight=e}},{key:"onSetNetworkCallback",set:function(e){this._setNetworkCallback=e}},{key:"getNetwork",value:function(){return this._network}},{key:"setNetwork",value:function(e){this._network=e,this._setNetworkCallback&&this._setNetworkCallback(this._network)}},{key:"getNetworks",value:function(){try{var e,t=null===(e="1,2,6,7")?void 0:e.split(",").map((function(e){return Number(e)}));return F.d.filter((function(e){return null===t||void 0===t?void 0:t.includes(e.id)}))}catch(n){ke.error(n)}return F.d}}]),e}()),ge=function(){return Oe},we=Object(E.a)(),xe=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ee;return Object(j.a)(this,n),(e=t.call(this))._fileUtil=void 0,e._client=void 0,e._offchainMethods=new Map,e._cachedNetworkBlockHeight=void 0,e._contract=void 0,e._listener=void 0,e.handleResponseAsync=function(){var t=Object(y.a)(A.a.mark((function t(n,r){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){e._client.waitForAccountBlockAsync(n,r).then((function(e){var n;0===(null===e||void 0===e?void 0:e.status)?t():a(null!==(n=null===e||void 0===e?void 0:e.statusTxt)&&void 0!==n?n:"Something went wrong.")}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.objectFromEntries=function(e){return Object.fromEntries(e.map((function(e){return[e.name,e.value]})))},e._fileUtil=r,e._client=Object(T.a)(),e._cachedNetworkBlockHeight=new je(500,Object(y.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._client.requestAsync("ledger_getSnapshotChainHeight");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),we.info("ViteDataSource loaded")(),e}return Object(m.a)(n,[{key:"initAsyncProtected",value:function(){var e=Object(y.a)(A.a.mark((function e(){var t,n,r,a,i,o,c,s,u,l=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ge(),(r=n.getNetwork())!==F.d.find((function(e){return"MAINNET v0.4"===e.name}))){e.next=11;break}return we.info("MAINNET v0.4 ADDRESS CHOSEN.")(),e.next=6,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_v04.json");case 6:a=e.sent,this._contract=JSON.parse(a),this._contract.address=F.a.POOLS_CONTRACT_ADDRESS_v04,e.next=52;break;case 11:if(r!==F.d.find((function(e){return"MAINNET v0.3"===e.name}))){e.next=20;break}return we.info("MAINNET v0.3 ADDRESS CHOSEN.")(),e.next=15,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_v03.json");case 15:i=e.sent,this._contract=JSON.parse(i),this._contract.address=F.a.POOLS_CONTRACT_ADDRESS_v03,e.next=52;break;case 20:if(r!==F.d.find((function(e){return"MAINNET v0.2"===e.name}))){e.next=29;break}return we.info("MAINNET v0.2 ADDRESS CHOSEN.")(),e.next=24,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_v02.json");case 24:o=e.sent,this._contract=JSON.parse(o),this._contract.address=F.a.POOLS_CONTRACT_ADDRESS_v02,e.next=52;break;case 29:if(r!==F.d.find((function(e){return"MAINNET v0.1"===e.name}))){e.next=38;break}return we.info("MAINNET v0.1 ADDRESS CHOSEN.")(),e.next=33,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_v01.json");case 33:c=e.sent,this._contract=JSON.parse(c),this._contract.address=F.a.POOLS_CONTRACT_ADDRESS_v01,e.next=52;break;case 38:if(r!==F.d.find((function(e){return"TESTNET"===e.name}))){e.next=47;break}return we.info("TESTNET ADDRESS CHOSEN.")(),e.next=42,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_old.json");case 42:s=e.sent,this._contract=JSON.parse(s),this._contract.address=F.a.POOLS_CONTRACT_ADDRESS_TESTNET,e.next=52;break;case 47:return e.next=49,this._fileUtil.readFileAsync("./assets/contracts/vite_staking_pools_old.json");case 49:u=e.sent,this._contract=JSON.parse(u),we.info("Could not set contract address.")();case 52:return we.info("Contract ".concat(null===(t=this._contract)||void 0===t?void 0:t.contractName," loaded"))(),e.next=55,this._client.createAddressListenerAsync(this._contract.address);case 55:this._listener=e.sent,this._listener.on((function(e){var t;if(null!==(t=l._contract)&&void 0!==t&&t.abi)for(var n=0;n<e.length;n++){var r=e[n],a=l._client.decodeVmLog(r.vmlog,l._contract.abi);we.info(null!==a&&void 0!==a?a:r)(),a&&l.handleVmLogAsync(a)}else we.info("Could not decode vmlog because contract abi is not defined.")()}));case 57:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disposeProtected",value:function(){this.removeAddressListener(),this._offchainMethods.clear()}},{key:"removeAddressListener",value:function(){this._listener&&this._client.removeListener(this._listener)}},{key:"contract",get:function(){var e;if(void 0===(null===(e=this._contract)||void 0===e?void 0:e.address))throw new Error("Contract is not defined.");return this._contract}},{key:"getAccountBalanceAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Y.a.isNullOrWhitespace(t)){e.next=3;break}return e.abrupt("return",new h.a(0));case 3:return e.next=5,this._client.requestAsync("ledger_getAccountInfoByAddress",t);case 5:if(null!==(n=e.sent)&&void 0!==n&&n.balanceInfoMap){e.next=8;break}return e.abrupt("return",new h.a(0));case 8:return e.abrupt("return",new h.a(n.balanceInfoMap[F.a.VITE_TOKEN_ID].balance).div(new h.a(10).pow(18)));case 11:return e.prev=11,e.t0=e.catch(0),we.error(e.t0)(),e.abrupt("return",new h.a(0));case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNetworkBlockHeightAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._cachedNetworkBlockHeight.getAsync();case 3:return t=e.sent,e.abrupt("return",new h.a(t));case 7:return e.prev=7,e.t0=e.catch(0),we.error(e.t0)(),e.abrupt("return",new h.a(0));case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPoolAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a,i,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getPoolInfo"),this.contract.offChain,[t]);case 2:return r=e.sent,a=[],e.prev=4,e.next=7,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getExtraPoolInfo"),this.contract.offChain,[t]);case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),a=[{name:"minimumDeposit",value:"0"},{name:"maximumTotalStakingBalance",value:"0"},{name:"lockTime",value:"0"}];case 13:return i=r.concat(a),o=this.objectFromEntries(i),e.next=17,this.toPoolAsync(t,o);case 17:return c=e.sent,e.next=20,this.getAprAsync(c);case 20:return c.apr=e.sent,e.next=23,this.getPoolUserInfoAsync(t,n);case 23:return c.userInfo=e.sent,e.abrupt("return",c);case 25:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getPoolsAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o,c,s,u,l,d,f,h,p,b=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTotalPoolsAsync();case 2:return n=e.sent,r=[],e.next=6,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getAllPoolInfo"),this.contract.offChain,[]);case 6:return a=e.sent,i=[],e.prev=8,e.next=11,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getAllExtraPoolInfo"),this.contract.offChain,[]);case 11:i=e.sent,e.next=19;break;case 14:for(e.prev=14,e.t0=e.catch(8),o=[],c=0;c<n;c++)o.push("0"),o.push("0"),o.push("0");i.push({name:"packedIntegers",value:o});case 19:s=a.find((function(e){return"stakingTokenIds"===e.name})).value,u=a.find((function(e){return"rewardTokenIds"===e.name})).value,l=a.find((function(e){return"packedIntegers"===e.name})).value,d=i.find((function(e){return"packedIntegers"===e.name})).value,f=0;case 24:if(!(f<n)){e.next=39;break}return h={stakingTokenId:s[f],rewardTokenId:u[f],totalStakingBalance:l[8*f+0],totalRewardBalance:l[8*f+1],startBlock:l[8*f+2],endBlock:l[8*f+3],latestRewardBlock:l[8*f+4],rewardPerPeriod:l[8*f+5],rewardPerToken:l[8*f+6],paidOut:l[8*f+7],minimumDeposit:d[3*f+0],maximumTotalStakingBalance:d[3*f+1],lockTime:d[3*f+2]},e.prev=26,e.next=29,this.toPoolAsync(f,h);case 29:p=e.sent,r.push(p),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(26),we.error(e.t1)();case 36:f++,e.next=24;break;case 39:return e.prev=39,e.next=42,Promise.all(r.map(function(){var e=Object(y.a)(A.a.mark((function e(n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,b.getAprAsync(n);case 3:return n.apr=e.sent,e.next=6,b.getPoolUserInfoAsync(r,t);case 6:n.userInfo=e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(39),we.error(e.t2)();case 47:return e.abrupt("return",r);case 48:case"end":return e.stop()}}),e,this,[[8,14],[26,33],[39,44]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoolUserInfoAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!Y.a.isNullOrWhitespace(n)){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getUserInfo"),this.contract.offChain,[t,n]);case 4:return r=e.sent,a=this.objectFromEntries(r),e.next=8,this.toPoolUserInfoAsync(a);case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTotalPoolsAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.callOffChainMethodAsync(this.contract.address,this.getOffchainMethodAbi("getPoolCount"),this.contract.offChain,[]);case 2:return t=e.sent,e.abrupt("return",Number(t[0].value));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"depositAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n,r){var a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getAccount(),e.next=3,this._client.callContractAsync(a,"deposit",this.contract.abi,[t],n,r,this.contract.address);case 3:return i=e.sent,e.next=6,this.handleResponseAsync(a.address,i.height);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"withdrawAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getAccount(),e.next=3,this._client.callContractAsync(r,"withdraw",this.contract.abi,[t,n],void 0,"0",this.contract.address);case 3:return a=e.sent,e.next=6,this.handleResponseAsync(r.address,a.height);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOffchainMethodAbi",value:function(e){var t;if(this._offchainMethods.has(e)?t=this._offchainMethods.get(e):(t=this.contract.abi.find((function(t){return"offchain"===t.type&&t.name===e})))&&this._offchainMethods.set(e,t),t)return t;throw new Error("The offchain method '".concat(e,"' does not exist.'"))}},{key:"handleVmLogAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.event===me.d.Deposit&&t.args.addr&&t.args.pid&&t.args.amount?this._emitter.emitPoolDeposit(Number(t.args.pid),new h.a(t.args.amount),t.args.addr):t.event===me.d.Withdraw&&t.args.addr&&t.args.pid&&t.args.amount?this._emitter.emitPoolWithdraw(Number(t.args.pid),new h.a(t.args.amount),t.args.addr):we.info("Unknown vmlog event.",t)()}catch(n){we.error(n)()}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),ye=new xe,_e=Object(E.a)(),Ae=function(){function e(){Object(j.a)(this,e),this._vite=void 0,this._datasource=void 0,this._vite=Object(T.a)(),this._datasource=ve()}return Object(m.a)(e,[{key:"initAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initViteClientAsync(t);case 2:e.t0=t.id,e.next=3===e.t0?5:7;break;case 5:return this._datasource=ve(),e.abrupt("break",9);case 7:return this._datasource=ye,e.abrupt("break",9);case 9:return e.next=11,this._datasource.initAsync();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){_e.info("Disposing CommonContext")(),this._datasource.dispose(),this._vite.dispose()}},{key:"datasource",get:function(){return this._datasource}},{key:"initViteClientAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._vite.initAsync(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),_e.error(e.t0)();case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Te=new Ae,Se=function(){return Te},Ce=n(30),Ie=n(369),Ne=Object(Ie.a)(te||(te=Object(Ce.a)(["\nmutation Deposit($id: ID!, $tokenId: String!, $amount: String!) {\n  deposit(id: $id, tokenId: $tokenId, amount: $amount) @client\n}\n"]))),Ee=Object(Ie.a)(ne||(ne=Object(Ce.a)(["\nmutation Withdraw($id: ID!, $amount: String!) {\n  withdraw(id: $id, amount: $amount) @client\n}\n"]))),Pe={deposit:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r,a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.tokenId,i=t.amount,e.abrupt("return",n.client.datasource.depositAsync(Number(r),a,i));case 2:case"end":return e.stop()}}),e)})))()},withdraw:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.amount,e.abrupt("return",n.client.datasource.withdrawAsync(Number(r),a));case 2:case"end":return e.stop()}}),e)})))()}},Be=Object(Ie.a)(re||(re=Object(Ce.a)(["\n  query GetAccountBalance($account: String) {\n    accountBalance(account: $account) @client\n  }\n"]))),De={accountBalance:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.account,e.next=3,n.client.datasource.getAccountBalanceAsync(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()}},Me=Object(Ie.a)(ae||(ae=Object(Ce.a)(["\n  query GetNetworkBlockHeight {\n    networkBlockHeight @client\n  }\n"]))),We={networkBlockHeight:function(e,t,n){return Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.client.datasource.getNetworkBlockHeightAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}},Re=Object(Ie.a)(ie||(ie=Object(Ce.a)(["\n  fragment TokenFields on Token {\n    id\n    name\n    symbol\n    originalSymbol\n    decimals\n    iconUrl\n    url\n  }\n"]))),Ue=(Object(Ie.a)(oe||(oe=Object(Ce.a)(["\n  ","\n  query GetToken($id: ID!) {\n    token(id: $id) @client {\n      ...TokenFields\n    }\n  }\n"])),Re),{token:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.abrupt("return",n.client.datasource.getTokenAsync(r));case 2:case"end":return e.stop()}}),e)})))()}}),Fe=Object(Ie.a)(ce||(ce=Object(Ce.a)(["\n  fragment PoolFields on Pool {\n    id\n    stakingToken {\n      ...TokenFields\n    }\n    rewardToken {\n      ...TokenFields\n    }\n    apr\n    totalStaked\n    totalRewards\n    startBlock\n    endBlock\n    endTimestamp\n    latestRewardBlock\n    rewardPerPeriod\n    rewardPerToken\n    paidOut\n    userInfo {\n      ...PoolUserInfoFields\n    }\n  }\n"]))),Le=Object(Ie.a)(se||(se=Object(Ce.a)(["\n  fragment PoolUserInfoFields on PoolUserInfo {\n    id\n    poolId\n    account\n    stakingBalance\n    rewardDebt\n  }\n"]))),Ve=Object(Ie.a)(ue||(ue=Object(Ce.a)(["\n  ","\n  ","\n  ","\n  query GetPool($id: ID!, $account: String) {\n    pool(id: $id, account: $account) @client {\n      ...PoolFields\n    }\n  }\n"])),Re,Le,Fe),He=Object(Ie.a)(le||(le=Object(Ce.a)(["\n  ","\n  ","\n  ","\n  query GetPools($account: String) {\n    pools(account: $account) @client {\n      ...PoolFields\n    }\n  }\n"])),Re,Le,Fe),qe=(Object(Ie.a)(de||(de=Object(Ce.a)(["\n  query GetTotalPools {\n    totalPools @client\n  }\n"]))),Object(Ie.a)(fe||(fe=Object(Ce.a)(["\n  ","\n  query GetPoolUserInfo($poolId: Int!, $account: String) {\n    poolUserInfo(poolId: $poolId, account: $account) @client {\n      ...PoolUserInfoFields\n    }\n  }\n"])),Le)),ze={pool:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.account,e.abrupt("return",n.client.datasource.getPoolAsync(Number(r),a));case 2:case"end":return e.stop()}}),e)})))()},pools:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.account,e.abrupt("return",n.client.datasource.getPoolsAsync(r));case 2:case"end":return e.stop()}}),e)})))()},totalPools:function(e,t,n){return Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.client.datasource.getTotalPoolsAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},poolUserInfo:function(e,t,n){return Object(y.a)(A.a.mark((function e(){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.poolId,a=t.account,e.abrupt("return",n.client.datasource.getPoolUserInfoAsync(Number(r),a));case 2:case"end":return e.stop()}}),e)})))()}},Ke=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"datasource",get:function(){return Se().datasource}}]),n}(g.a),$e=new Ke({cache:new w.a({typePolicies:{Query:{fields:{}}}}),resolvers:{BigNumber:new x.a({name:"BigNumber",description:"BigNumber custom scalar type",serialize:function(e){return e.toString()},parseValue:function(e){return new h.a(e)}}),Query:Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)({},De),We),ze),Ue),Mutation:Object(v.a)({},Pe)},headers:{"client-name":"vite-staking","client-version":"0.0.2"}}),Je=function(){return $e},Ge=n(14),Xe=n(388),Qe=n(208),Ye=n.n(Qe),Ze=n(354),et=n(377),tt=n(378),nt=n(3),rt=n(66),at=n(362),it=n(79),ot=n(0),ct=["className"],st=["className"],ut=["className"],lt=(Object(d.a)((function(e){var t=e.className,n=Object(rt.a)(e,ct);return Object(ot.jsx)(at.a,Object(v.a)(Object(v.a)({},n),{},{classes:{popper:t}}))}))((function(e){var t=e.theme;return Object(nt.a)({},"& .".concat(it.a.tooltip),{backgroundColor:t.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:t.shadows[1],fontSize:11})})),Object(d.a)((function(e){var t=e.className,n=Object(rt.a)(e,st);return Object(ot.jsx)(at.a,Object(v.a)(Object(v.a)({},n),{},{arrow:!0,classes:{popper:t}}))}))((function(e){var t,n=e.theme;return t={},Object(nt.a)(t,"& .".concat(it.a.arrow),{color:n.palette.common.black}),Object(nt.a)(t,"& .".concat(it.a.tooltip),{backgroundColor:n.palette.common.black}),t}))),dt=(Object(d.a)((function(e){var t=e.className,n=Object(rt.a)(e,ut);return Object(ot.jsx)(at.a,Object(v.a)(Object(v.a)({},n),{},{classes:{popper:t}}))}))((function(e){var t=e.theme;return Object(nt.a)({},"& .".concat(it.a.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"})})),function(){var e=Object(a.useState)(new h.a(0)),t=Object(Ge.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),o=Object(Ge.a)(i,2),c=o[0],s=o[1],u=Object(L.a)();return Object(a.useEffect)((function(){var e=function(e){var t=e.toString(),n=e;t.length>1&&(n=new h.a(t.substr(t.length-1,t.length))),s(n.mod(2).eq(0)),r(e)};return u.on(me.a.NetworkBlockHeightChanged,e),function(){u.off(me.a.NetworkBlockHeightChanged,e)}}),[u]),Object(ot.jsx)(Ze.a,{sx:{py:"10px",px:"24px"},children:Object(ot.jsxs)(et.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:1,children:[Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)(lt,{title:"Network block height",placement:"top",arrow:!0,children:Object(ot.jsxs)(Xe.a,{variant:"caption",sx:{verticalAlign:"middle",display:"inline-flex"},children:[Object(ot.jsx)(Ye.a,{sx:{color:"gray",mr:"2px",transform:c?"rotate(45deg)":"rotate(0deg)",fontSize:"17px"}}),n.toString()]})})}),Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)(lt,{title:"Version",placement:"top",arrow:!0,children:Object(ot.jsx)(tt.a,{label:"v0.0.2",variant:"outlined",size:"small"})})})]})})}),ft=n(389),ht=n(391),pt=Object(d.a)("div")((function(e){e.theme;return"\n  flex-grow: 1;\n"})),bt=Object(d.a)(Xe.a)((function(e){e.theme;return"\n  flex-grow: 1;\n  margin-left: 10px !important;\n"})),vt=function(e){return Object(ot.jsx)(pt,{children:Object(ot.jsx)(ft.a,{position:"static",children:Object(ot.jsx)(ht.a,{children:Object(ot.jsx)(bt,{variant:"h6",children:F.a.APP_NAME})})})})},jt=n(392),mt=["children"],kt=Object(d.a)("div")((function(e){e.theme;return"\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  padding-bottom: 15px;\n  padding-top: 30px;\n  overflow: auto;\n  overflow-x: hidden;\n"})),Ot=Object(d.a)("div")((function(e){e.theme;return"\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"})),gt=function(e){var t=e.children,n=Object(rt.a)(e,mt);return Object(ot.jsx)(kt,Object(v.a)(Object(v.a)({},n),{},{children:Object(ot.jsx)(jt.a,{maxWidth:"lg",children:Object(ot.jsx)(Ot,{children:t})})}))},wt=["children"],xt=Object(d.a)("div")((function(e){e.theme;return"\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"})),yt=function(e){var t=e.children,n=Object(rt.a)(e,wt);return Object(ot.jsx)(xt,Object(v.a)(Object(v.a)({},n),{},{children:t}))},_t=i.a.createContext(void 0),At=function(e){var t=Object(a.useState)(null),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(null),c=Object(Ge.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(null),d=Object(Ge.a)(l,2),f=d[0],h=d[1];Object(K.h)().onSetWalletCallback=u,ge().onSetNetworkCallback=h;var p={setError:i,error:r,wallet:s,network:f};return Object(ot.jsx)(_t.Provider,{value:p,children:e.children})},Tt=Object(E.a)(),St=i.a.createContext(void 0),Ct=function(){var e=i.a.useContext(St);if(!e)throw new Error("Component rendered outside the provider tree");return e},It=function(e){var t=Object(a.useState)(null),n=Object(Ge.a)(t,2),r=n[0],o=n[1],c=function(){var e=i.a.useContext(_t);if(!e)throw new Error("Component rendered outside the provider tree");return e}(),s=Se(),u=c.wallet,l=c.network;Object(a.useEffect)((function(){u||Object(K.h)().initWallet()}),[u]),Object(a.useEffect)((function(){if(!l){var e=ge(),t=Number(null!=="1"?"1":"2");e.setNetwork(F.d.find((function(e){return e.id===t}))),Tt.info("Network:",e.getNetwork())()}}),[l]);var d=Object(a.useCallback)((function(){Object(K.h)().removeWallet(),window.location.reload()}),[]);if(Object(a.useEffect)((function(){var e,t,n={account:null===u||void 0===u||null===(e=u.active)||void 0===e?void 0:e.address,network:l,logout:d};Tt.info("ConnectedWeb3.account",null===u||void 0===u||null===(t=u.active)||void 0===t?void 0:t.address)();var r=function(){var e=Object(y.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=12;break}return Tt.info("Init ConnectedWeb3")(),e.prev=2,o(null),e.next=6,s.initAsync(l);case 6:o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Tt.error(e.t0)();case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return r(),function(){s.dispose()}}),[u,l,d,s]),!r)return Object(ot.jsxs)(yt,{children:[Object(ot.jsx)(vt,{}),Object(ot.jsx)(gt,{children:Object(ot.jsx)(Xe.a,{children:"Loading..."})}),Object(ot.jsx)(dt,{})]});var f=Object(v.a)({},r);return Object(ot.jsx)(St.Provider,{value:f,children:e.children})},Nt=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"formatMessage",value:function(e){var t="Something went wrong.";if(e){var n,r;if(console.log(e),Y.a.isString(e))n=e;else e.message?n=e.message:null!==(r=e.error)&&void 0!==r&&r.message?n=e.error.message:e.graphQLErrors?n=e.graphQLErrors.length>0?e.graphQLErrors[0].message:t:"{}"===(n=JSON.stringify(e))&&(n=t);return n.length>128?n.substr(0,128)+"...":n}return t}}]),e}(),Et=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"enqueueError",value:function(t){e.snackbar.enqueueSnackbar(Nt.formatMessage(t))}},{key:"enqueueMessage",value:function(t){e.snackbar.enqueueSnackbar(t)}}]),e}();Et.snackbar=void 0;var Pt=n(209),Bt=n.n(Pt),Dt=n(400),Mt=n(393),Wt=n(394),Rt=n(395),Ut=n(396),Ft=n(358),Lt=n(152),Vt=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n={size:240,ecLevel:Lt.ecLevel.HIGH,minVersion:4,background:"#fff",mode:Lt.modes.DRAW_WITH_IMAGE_BOX,radius:0,image:"./icon.png",mSize:.3};e.text&&t.current&&(t.current.innerHTML="",new Lt.qrcode(t.current).generate(e.text,n).then((function(){console.log("QR code generated")})))}),[e.text]),Object(ot.jsx)("div",{ref:t})},Ht=function(e){var t,n=e.onClose,r=e.open,i=e.setOpen,o=Object(T.a)(),c=Object(L.a)();Object(a.useEffect)((function(){var e=function(e){i(e)};return c.on(me.a.ConnectWalletDialog,e),function(){c.off(me.a.ConnectWalletDialog,e)}}),[c,i]);return o.connector?Object(ot.jsxs)(Mt.a,{onClose:function(){n()},open:r,maxWidth:"xs",children:[Object(ot.jsx)(Wt.a,{children:"Connect Wallet"}),Object(ot.jsxs)(Rt.a,{children:[Object(ot.jsx)(Ut.a,{children:"Scan the QR code via Vite Wallet App"}),Object(ot.jsx)(Ft.a,{sx:{mt:2,textAlign:"center"},children:Object(ot.jsx)(Vt,{text:null===(t=o.connector)||void 0===t?void 0:t.uri})})]})]}):Object(ot.jsx)(ot.Fragment,{})},qt=n(397),zt=n(374),Kt=n(364),$t=n(372),Jt=Object(d.a)(qt.a)((function(e){var t=e.theme;return{margin:t.spacing(1),"& .MuiSelect-root":{color:t.palette.common.white},"& .MuiSvgIcon-root":{color:t.palette.common.white}}})),Gt=function(){var e=ge(),t=e.getNetworks(),n=Object(a.useState)(e.getNetwork()),r=Object(Ge.a)(n,2),i=r[0],o=r[1];return t.length>0?Object(ot.jsxs)(Jt,{variant:"outlined",size:"small",children:[Object(ot.jsx)(zt.a,{id:"select-network-label"}),Object(ot.jsx)(Kt.a,{labelId:"select-network-label",id:"select-network-label",value:null===i||void 0===i?void 0:i.id.toString(),onChange:function(n){var r=t.find((function(e){return e.id.toString()===n.target.value}));r&&(o(r),e.setNetwork(r))},children:t.map((function(e){return Object(ot.jsx)($t.a,{value:e.id.toString(),children:e.name},e.id.toString())}))})]}):Object(ot.jsx)(ot.Fragment,{})},Xt=Object(d.a)("div")((function(e){e.theme;return"\n  flex-grow: 1;\n"})),Qt=Object(d.a)(Xe.a)((function(e){e.theme;return"\n  flex-grow: 1;\n  margin-left: 10px !important;\n"})),Yt=function(e){var t,n=Ct(),r=i.a.useState(!1),a=Object(Ge.a)(r,2),o=a[0],c=a[1];return Object(ot.jsx)(Xt,{children:Object(ot.jsx)(ft.a,{position:"static",color:"primary",children:Object(ot.jsxs)(ht.a,{children:[Object(ot.jsx)("a",{href:"https://vivafi.org",children:Object(ot.jsx)("img",{src:"./vivalogo_white.svg",alt:"logo",width:"64"})}),Object(ot.jsx)(Qt,{variant:"h6",children:F.a.APP_NAME}),Object(ot.jsx)(Gt,{}),n.account?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(lt,{sx:Object(nt.a)({},"& .".concat(it.a.tooltip),{maxWidth:"none"}),title:n.account,placement:"bottom",arrow:!0,children:Object(ot.jsx)(tt.a,{sx:{color:"white","& .MuiChip-icon":{color:"white"}},icon:Object(ot.jsx)(Bt.a,{}),label:(t=n.account,Y.a.truncateStringInTheMiddle(t,10,5)),variant:"outlined"})}),Object(ot.jsx)(Dt.a,{color:"inherit",onClick:function(){n.logout()},children:"Logout"})]}):Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(Dt.a,{color:"inherit",onClick:function(){c(!0)},children:"Login"}),Object(ot.jsx)(Ht,{open:o,setOpen:c,onClose:function(){c(!1)}})]})]})})})},Zt=n(385),en=n(390),tn=function(e){var t,n,r="#000000",a="rgba(255, 255, 255, 0.5)";if("warning"===e.type)r="#611a15",a="rgba(255, 0, 0, 0.1)";return e.error&&console.log(Y.a.toJsonString(e.error)),Object(ot.jsx)(en.a,{children:Object(ot.jsx)(Ze.a,{sx:{color:null!==(t=e.color)&&void 0!==t?t:r,backgroundColor:null!==(n=e.backgroundColor)&&void 0!==n?n:a,padding:"15px",textAlign:"center"},children:Object(ot.jsx)(Xe.a,{children:e.message})})})},nn=n(401),rn=n(359),an=n(402),on=n(373),cn=n(403),sn=n(375),un=function(){var e,t=Object(a.useState)(F.c),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(L.a)(),c=function(e,t){o.emitPoolFilterValuesChanged(e,t)},s=function(e){return function(t){var n=Object(v.a)(Object(v.a)({},r),{},Object(nt.a)({},e,t.target.checked));i(n),c(r,n)}};return Object(ot.jsx)(et.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{mb:2},children:Object(ot.jsx)(et.a,{item:!0,xs:12,md:10,children:Object(ot.jsxs)(et.a,{container:!0,children:[Object(ot.jsx)(et.a,{item:!0,xs:!0,sx:{mr:2},children:Object(ot.jsx)(nn.a,{children:Object(ot.jsxs)(rn.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(ot.jsx)(an.a,{control:Object(ot.jsx)(on.a,{checked:r.stakedOnly,onChange:s("stakedOnly")}),label:"Staked only"}),Object(ot.jsxs)(rn.a,{direction:"row",alignItems:"center",children:[Object(ot.jsx)(Xe.a,{children:"Ended"}),Object(ot.jsx)(cn.a,{checked:r.showLive,onChange:s("showLive")}),Object(ot.jsx)(Xe.a,{children:"Live"})]})]})})}),Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)(nn.a,{children:Object(ot.jsxs)(rn.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(ot.jsxs)(qt.a,{size:"small",sx:{minWidth:"120px"},children:[Object(ot.jsx)(zt.a,{id:"sortby-select-label",children:"Sort by"}),Object(ot.jsx)(Kt.a,{labelId:"sortby-select-label",id:"sortby-select",value:r.sortBy,label:"Sort by",onChange:function(e){var t=Object(v.a)(Object(v.a)({},r),{},{sortBy:e.target.value});i(t),c(r,t)},children:F.e.map((function(e){return Object(ot.jsxs)($t.a,{value:e.type,children:[e.name,"\xa0"]},e.type)}))})]}),Object(ot.jsx)(sn.a,{id:"search",value:r.search,label:"Search",variant:"outlined",size:"small",autoComplete:"off",onChange:(e="search",function(t){var n=Object(v.a)(Object(v.a)({},r),{},Object(nt.a)({},e,t.target.value));i(n),c(r,n)})})]})})})]})})})},ln=n(32),dn=n(153),fn=new(function(){function e(){Object(j.a)(this,e),this._map=void 0,this._map=new Map}return Object(m.a)(e,[{key:"create",value:function(e){var t=null!==e&&void 0!==e?e:navigator.language,n=this._map.get(t);return n||(n=new z(t),this._map.set(t,n)),n}}]),e}()),hn=function(){return fn},pn=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"filterPools",value:function(t,n){if(!n)return n;var r=hn().create(),a=Object(dn.partition)(n,(function(e){return e.endTimestamp>=0&&r.get().unix()>=e.endTimestamp})),i=Object(Ge.a)(a,2),o=i[0],c=i[1],s=c;s=t.showLive?t.stakedOnly?c.filter((function(e){return!!e.userInfo&&e.userInfo.stakingBalance.gt(0)})):c:t.stakedOnly?o.filter((function(e){return!!e.userInfo&&e.userInfo.stakingBalance.gt(0)})):o;var u=e.sortPools(t.sortBy,s);return e.searchPools(t.search,u)}},{key:"sortPools",value:function(e,t){if(!t||!e)return t;switch(e){case F.e[me.c.APR].type:return Object(dn.orderBy)(t,(function(e){var t,n;return null!==(t=null===(n=e.apr)||void 0===n?void 0:n.toNumber())&&void 0!==t?t:0}),"desc");case F.e[me.c.TOTAL_STAKED].type:return Object(dn.orderBy)(t,(function(e){return e.totalStaked.toNumber()}),"desc");case F.e[me.c.DEFAULT].type:default:return t}}},{key:"searchPools",value:function(e,t){if(!t||!e)return t;var n=e.toLowerCase();return t.filter((function(e){return e.rewardToken.originalSymbol.toLowerCase().includes(n)||e.stakingToken.originalSymbol.toLowerCase().includes(n)}))}}]),e}(),bn=n(210),vn=n.n(bn),jn=n(174),mn=n.n(jn),kn=n(108),On=n.n(kn),gn=n(383),wn=n(406),xn=n(381),yn=n(367),_n=n(407),An=n(408),Tn=Object(E.a)(),Sn=function(){function e(){Object(j.a)(this,e),this._apollo=void 0,this._walletManager=void 0,this._moment=void 0,this._apollo=Je(),this._walletManager=Object(K.h)(),this._moment=hn().create()}return Object(m.a)(e,[{key:"getAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o,c=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"network-only",e.prev=1,e.next=4,this._apollo.query({query:Ve,variables:{id:t.toString()},fetchPolicy:n});case 4:return a=e.sent,e.next=7,this._apollo.query({query:qe,variables:{poolId:t,account:null===(r=this._walletManager.getActiveAccount())||void 0===r?void 0:r.address},fetchPolicy:n});case 7:return i=e.sent,o=a.data.pool,e.abrupt("return",Object(v.a)(Object(v.a)({},o),{},{userInfo:i.data.poolUserInfo,fetchTimestamp:this._moment.get().unix()}));case 12:e.prev=12,e.t0=e.catch(1),Tn.error(e.t0)();case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"depositAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n,r){var a,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._apollo.mutate({mutation:Ne,variables:{id:t.toString(),tokenId:n,amount:r}});case 2:return o=e.sent,e.abrupt("return",Boolean(null!==(a=null===(i=o.data)||void 0===i?void 0:i.deposit)&&void 0!==a&&a));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"withdrawAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t,n){var r,a,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._apollo.mutate({mutation:Ee,variables:{id:t.toString(),amount:n}});case 2:return i=e.sent,e.abrupt("return",Boolean(null!==(r=null===(a=i.data)||void 0===a?void 0:a.withdraw)&&void 0!==r&&r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateRewardPerToken",value:function(e,t){if(null===e||void 0===e||!e.userInfo)return!1;var n=t.lt(e.endBlock)?t:e.endBlock;if(n.lte(e.latestRewardBlock))return!1;if(e.totalStaked.eq(new h.a(0)))return e.latestRewardBlock=n,!0;var r=n.minus(e.latestRewardBlock),a=e.rewardPerPeriod.times(r).times(F.a.REWARD_FACTOR).div(e.totalStaked);return e.rewardPerToken=e.rewardPerToken.plus(a),e.latestRewardBlock=n,!0}}]),e}(),Cn=new Sn,In=function(){return Cn},Nn=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,null,[{key:"calculateRewardTokens",value:function(e){return null!==e&&void 0!==e&&e.userInfo?e.userInfo.stakingBalance.times(e.rewardPerToken).div(F.a.REWARD_FACTOR).minus(e.userInfo.rewardDebt):new h.a(0)}},{key:"calculateNetRewardTokens",value:function(e,t){return!e||t.lt(e.startBlock)?new h.a(0):t.gte(e.endBlock)?new h.a(e.totalRewards):t.minus(e.startBlock).div(e.endBlock.minus(e.startBlock)).times(e.totalRewards)}},{key:"calculateTotalRewardTokens",value:function(e,t){return!e||t.lt(e.startBlock)?new h.a(0):t.gte(e.endBlock)?new h.a(e.totalRewards):e.totalRewards}},{key:"formatBigNumber",value:function(e,t,n){return e.div(new h.a(10).pow(t)).decimalPlaces(n,h.a.ROUND_DOWN).toFormat()}}]),e}(),En=n(370),Pn=function(e){var t,n,r,a=i.a.useState(!1),o=Object(Ge.a)(a,2),c=o[0],s=o[1],u=function(){var t=Object(y.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,e.callbackFn();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:s(!1);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return Object(ot.jsx)(En.a,{loading:c,size:null!==(t=e.size)&&void 0!==t?t:"small",variant:null!==(n=e.variant)&&void 0!==n?n:"contained",color:null!==(r=e.color)&&void 0!==r?r:"primary",fullWidth:e.fullWidth,onClick:u,disabled:e.disabled,children:e.children})},Bn=function(e){var t=Object(a.useState)(!1),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(new h.a(0)),c=Object(Ge.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(""),d=Object(Ge.a)(l,2),f=d[0],p=d[1],b=Object(a.useMemo)((function(){return hn().create()}),[]),v=ge();return Object(a.useEffect)((function(){var t=setInterval((function(){var t,n=v.networkHeight;if(null!==(t=e.pool)&&void 0!==t&&t.endBlock){var r=new h.a(0);if(n.lte(e.pool.startBlock)?(i(!1),r=e.pool.startBlock.minus(n)):(i(!0),r=e.pool.endBlock.minus(n)),r.gte(0)){u(r);var a=b.getDuration(r.toNumber());a.months()>0?p(a.months()+" months "+a.days()+" days "):a.days()>0?p(a.days()+" days "+a.hours()+" hours"):a.hours()>0?p(a.hours()+" hours "+a.minutes()+" minutes"):a.minutes()>0?p(a.minutes()+" minutes "+a.seconds()+" seconds"):p(a.seconds()+" seconds")}else u(new h.a(0)),p("")}}),500);return function(){clearInterval(t)}}),[e.pool,b,v]),Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:[r?"Ends in":"Starts in"," \xa0",Object(ot.jsx)(at.a,{title:"Based on current funds. The pool creator may extend the duration by depositing additional rewards",placement:"top",children:Object(ot.jsx)(On.a,{fontSize:"small"})})]}),e.pool?Object(ot.jsx)(ot.Fragment,{children:s.gt(0)?Object(ot.jsxs)(Xe.a,{variant:"subtitle1",children:[s.toString()," Blocks",Object(ot.jsx)(Xe.a,{variant:"body2",color:"text.secondary",display:"inline",sx:{ml:1},children:f})]}):Object(ot.jsx)(Xe.a,{variant:"subtitle1",children:"-"})}):Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"90px"})]})},Dn=n(398),Mn=n(404),Wn=n(405),Rn=function(e){var t=Object(a.useState)(""),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(Ge.a)(o,2),s=c[0],u=c[1],l=In(),d=function(t){i(t),u(parseInt(t)<parseInt(Nn.formatBigNumber(e.pool.minimumDeposit,e.pool.stakingToken.decimals,1).replace(/,/g,""))||Y.a.isNullOrWhitespace(t)||new f.BigNumber(t).lte(0))};Object(a.useEffect)((function(){e.state.open&&d("")}),[e.state]);var h=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{open:!1}))},p=function(){var t=Object(y.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new f.BigNumber(r).times(new f.BigNumber(10).pow(e.pool.stakingToken.decimals)),t.next=4,l.depositAsync(e.pool.id,e.pool.stakingToken.id,n.toString());case 4:h(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Et.enqueueError(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(ot.jsxs)(Mt.a,{onClose:h,open:e.state.open,maxWidth:"xs",fullWidth:!0,children:[Object(ot.jsx)(Wt.a,{children:"Stake"}),Object(ot.jsxs)(Rt.a,{children:[Object(ot.jsxs)(Ut.a,{children:["Earn ",e.pool.rewardToken.originalSymbol," by staking ",e.pool.stakingToken.originalSymbol,"."]}),Object(ot.jsxs)(qt.a,{fullWidth:!0,sx:{mt:2},variant:"standard",children:[Object(ot.jsx)(zt.a,{htmlFor:"contribute-amount",children:"Amount"}),Object(ot.jsx)(Dn.a,{id:"contribute-amount",value:r,onChange:function(e){d(e.target.value)},type:"number",autoFocus:!0,startAdornment:Object(ot.jsxs)(Mn.a,{position:"start",children:["$",e.pool.stakingToken.symbol]})})]}),Object(ot.jsxs)(Ut.a,{children:[Object(ot.jsx)("br",{}),"Note: ",e.pool.minimumDeposit.gt(0)?Object(ot.jsxs)("span",{children:["Minimum Stake is ",Nn.formatBigNumber(e.pool.minimumDeposit,e.pool.rewardToken.decimals,1),"."]}):null," Pending rewards will be automatically claimed."]})]}),Object(ot.jsxs)(Wn.a,{children:[Object(ot.jsx)(Dt.a,{onClick:h,children:"Cancel"}),Object(ot.jsx)(Pn,{size:"medium",color:"primary",callbackFn:p,disabled:s,children:"Confirm"})]})]})},Un=Object(E.a)(),Fn=function(){function e(){Object(j.a)(this,e),this._apollo=void 0,this._walletManager=void 0,this._apollo=Je(),this._walletManager=Object(K.h)()}return Object(m.a)(e,[{key:"getBalanceAsync",value:function(){var e=Object(y.a)(A.a.mark((function e(t){var n,r,a,i,o,c=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"network-only",e.prev=1,(a=null!==t&&void 0!==t?t:null===(r=this._walletManager.getActiveAccount())||void 0===r?void 0:r.address)&&!Y.a.isNullOrWhitespace(a)){e.next=5;break}return e.abrupt("return",new h.a(0));case 5:return e.next=7,this._apollo.query({query:Be,variables:{account:a},fetchPolicy:n});case 7:return i=e.sent,o=i.data.accountBalance,e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(1),Un.error(e.t0)(),e.abrupt("return",new h.a(0));case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ln=new Fn,Vn=Object(E.a)(),Hn=function(e){var t=Object(a.useCallback)((function(){var t;return null!==(t=e.pool.userInfo)&&void 0!==t&&t.stakingBalance.gt(0)?Nn.formatBigNumber(e.pool.userInfo.stakingBalance,e.pool.stakingToken.decimals,18).replace(/,/g,""):""}),[e.pool]),n=Object(a.useState)(t()),r=Object(Ge.a)(n,2),i=r[0],o=r[1],c=Object(a.useState)(!1),s=Object(Ge.a)(c,2),u=s[0],l=s[1],d=Ln,f=In(),p=function(e){o(e),l(Y.a.isNullOrWhitespace(e)||new h.a(e).lte(0))};Object(a.useEffect)((function(){e.state.open&&p(t())}),[e.state,t]),Object(a.useEffect)((function(){function t(){return(t=Object(y.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getBalanceAsync();case 2:t=e.sent,Vn.info("Account balance:",t.toString())();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.state.open&&function(){t.apply(this,arguments)}()}),[e.state,d]);var b=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{open:!1}))},j=function(){var t=Object(y.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new h.a(i).times(new h.a(10).pow(e.pool.stakingToken.decimals)),t.next=4,f.withdrawAsync(e.pool.id,n.toString());case 4:b(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Et.enqueueError(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(ot.jsxs)(Mt.a,{onClose:b,open:e.state.open,maxWidth:"xs",fullWidth:!0,children:[Object(ot.jsx)(Wt.a,{children:"Withdraw"}),Object(ot.jsxs)(Rt.a,{children:[Object(ot.jsxs)(Ut.a,{children:["Enter the ",e.pool.stakingToken.originalSymbol," amount to withdraw."]}),Object(ot.jsxs)(qt.a,{fullWidth:!0,sx:{mt:2},variant:"standard",children:[Object(ot.jsx)(zt.a,{htmlFor:"contribute-amount",children:"Amount"}),Object(ot.jsx)(Dn.a,{id:"contribute-amount",value:i,onChange:function(e){p(e.target.value)},type:"number",autoFocus:!0,startAdornment:Object(ot.jsxs)(Mn.a,{position:"start",children:["$",e.pool.stakingToken.symbol]})})]}),Object(ot.jsxs)(Ut.a,{children:[Object(ot.jsx)("br",{}),"Note: Pending rewards will be automatically claimed."]})]}),Object(ot.jsxs)(Wn.a,{children:[Object(ot.jsx)(Dt.a,{onClick:b,children:"Cancel"}),Object(ot.jsx)(Pn,{size:"medium",color:"primary",callbackFn:j,disabled:u,children:"Confirm"})]})]})},qn=function(e){switch(e.state.type){case me.b.WITHDRAW:return Object(ot.jsx)(Hn,{pool:e.pool,state:e.state,setState:e.setState});case me.b.DEPOSIT:return Object(ot.jsx)(Rn,{pool:e.pool,state:e.state,setState:e.setState});default:return Object(ot.jsx)(ot.Fragment,{})}},zn=function(e){var t=Object(a.useState)(e.pool),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(new h.a(0)),c=Object(Ge.a)(o,2),s=c[0],u=c[1],l=In(),d=ge();Object(a.useEffect)((function(){i(e.pool)}),[e.pool]),Object(a.useEffect)((function(){if(r){var t=Nn.calculateRewardTokens(r);u(t),e.setCanClaim&&e.setCanClaim(!!e.pool&&!!e.account&&t.gt(0))}else u(new h.a(0)),e.setCanClaim&&e.setCanClaim(!1)}),[r,e]),Object(a.useEffect)((function(){if(r){var t=Nn.calculateRewardTokens(r);u(t),e.setCanClaim&&e.setCanClaim(!!e.pool&&!!e.account&&t.gt(0))}else u(new h.a(0)),e.setCanClaim&&e.setCanClaim(!1)}),[r,e]),Object(a.useEffect)((function(){var e=setInterval((function(){var e=d.networkHeight;if(r&&l.updateRewardPerToken(r,e)){var t=Object(v.a)({},r);i(t)}}),3e3);return function(){clearInterval(e)}}),[r,l,d]);var f;return Object(ot.jsx)(ot.Fragment,{children:(f=e.decimals,r?Nn.formatBigNumber(s,r.rewardToken.decimals,f):"0")})},Kn=n(382),$n=n(376),Jn=function(e){var t,n,r,a,i,o,c=Object(d.a)(Kn.a)((function(e){e.theme;return{width:50,height:50,backgroundColor:"white",border:"1px solid black"}})),s=Object(d.a)(Kn.a)((function(e){var t=e.theme;return{width:30,height:30,backgroundColor:"white",border:"1px solid ".concat(t.palette.grey[600])}})),u=N();return Object(ot.jsxs)(et.a,{container:!0,alignItems:"center",spacing:2,children:[Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)($n.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(ot.jsx)(s,{alt:null===(t=e.pool)||void 0===t?void 0:t.stakingToken.originalSymbol,src:u.mapIconUrl(null===(n=e.pool)||void 0===n?void 0:n.stakingToken.iconUrl)}),children:Object(ot.jsx)(c,{alt:null===(r=e.pool)||void 0===r?void 0:r.rewardToken.originalSymbol,src:u.mapIconUrl(null===(a=e.pool)||void 0===a?void 0:a.rewardToken.iconUrl)})})}),Object(ot.jsx)(et.a,{item:!0,children:e.loading?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"70px"}),Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"90px"})]}):Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(Xe.a,{variant:"subtitle1",children:["Earn ",null===(i=e.pool)||void 0===i?void 0:i.rewardToken.originalSymbol]}),Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:["Stake ",null===(o=e.pool)||void 0===o?void 0:o.stakingToken.originalSymbol]})]})})]})},Gn=n(386),Xn=(n(292),Object(E.a)()),Qn=Object(d.a)(en.a)((function(e){var t=e.theme;return{padding:t.spacing(2),paddingTop:t.spacing(1),backgroundColor:"transparent"}})),Yn=function(e){var t,n,r,i,o,c,s,u,l,d,f,p,b,j,m,k,O,g,w,x=Object(a.useState)({type:me.b.DEPOSIT,open:!1}),_=Object(Ge.a)(x,2),T=_[0],S=_[1],C=Object(a.useState)(!1),I=Object(Ge.a)(C,2),N=I[0],E=I[1],P=Object(a.useState)(!1),B=Object(Ge.a)(P,2),D=B[0],M=B[1],W=Object(a.useState)(!1),R=Object(Ge.a)(W,2),U=R[0],F=R[1],V=Object(a.useState)(e.pool),H=Object(Ge.a)(V,2),q=H[0],z=(H[1],Object(L.a)()),K=In(),$=ge(),J=$.getNetwork(),G=Object(a.useState)(new h.a(0)),X=Object(Ge.a)(G,2),Q=X[0],Y=X[1],Z=Object(a.useState)(0),ee=Object(Ge.a)(Z,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){var t,n,r,a;e.pool?(Xn.info("Pool loaded: ".concat(null===(n=e.pool)||void 0===n?void 0:n.id))(),F(!!e.pool&&!!e.account&&null!==(r=null===(a=e.pool.userInfo)||void 0===a?void 0:a.stakingBalance.gt(0))&&void 0!==r&&r)):F(!1);if(void 0!==(null===(t=e.pool)||void 0===t?void 0:t.lockTime)){var i=e.pool.lockTime.toNumber();i>0?20===e.pool.id&&"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)?ne(0):ne((i=i/60/60/24)<1?0:i):ne(0)}else ne(0)}),[e.pool,e.account,null===J||void 0===J?void 0:J.name]),Object(a.useEffect)((function(){var t=setInterval((function(){var t=$.getNetwork();E(!!e.pool&&!!e.account&&!!t&&"MAINNET v0.2"!==t.name&&!("MAINNET v0.4"===t.name&&85===e.pool.id))}),500);return function(){clearInterval(t)}}),[e.pool,e.account,$]),Object(a.useEffect)((function(){if(e.pool){var t=$.networkHeight,n=Nn.calculateNetRewardTokens(q,t);Y(n)}else Y(new h.a(0))}),[q,$,e]),Object(a.useEffect)((function(){var t=setInterval((function(){if(e.pool){var t=$.networkHeight,n=Nn.calculateNetRewardTokens(q,t);Y(n)}else Y(new h.a(0))}),3e3);return function(){clearInterval(t)}}),[q,$]);var re=function(){return e.pool?Nn.formatBigNumber(e.pool.totalRewards,e.pool.rewardToken.decimals,2):"0"},ae=function(e){return q?Nn.formatBigNumber(Q,q.rewardToken.decimals,e):"0"},ie=function(e){return Math.round(1e3*function(e){var t=ae(e);return t=t.replace(/,/g,""),parseFloat(t)}(e)/function(){var e=re();return e=e.replace(/,/g,""),parseFloat(e)}())/10},oe=function(){var t=Object(y.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.pool){t.next=4;break}return t.next=4,K.withdrawAsync(e.pool.id,"0");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Et.enqueueError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(gn.a,{defaultExpanded:!0,children:[Object(ot.jsx)(wn.a,{sx:{backgroundColor:"rgba(217, 217, 217, 0.1)"},expandIcon:Object(ot.jsx)(vn.a,{}),children:Object(ot.jsxs)(et.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)(Jn,{loading:!e.pool,pool:e.pool})}),Object(ot.jsx)(et.a,{item:!0,xs:!0,container:!0,alignItems:"center",children:Object(ot.jsxs)(et.a,{item:!0,xs:!0,container:!0,justifyContent:"space-evenly",direction:"row",spacing:2,children:[Object(ot.jsx)(et.a,{item:!0,children:e.pool?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:["Total ",null===(t=e.pool)||void 0===t?void 0:t.rewardToken.originalSymbol," earned\xa0",Object(ot.jsx)(at.a,{title:"Total earned by all users since pool start",placement:"top",children:Object(ot.jsx)(On.a,{fontSize:"small"})})]}),Object(ot.jsxs)(Xe.a,{variant:"subtitle1",children:[ae(3)," / ",re()]}),Object(ot.jsx)(Gn.a,{variant:"success",now:ie(4)}),Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:[ie(2),"% earned"]})]}):Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"90px"}),Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"70px"})]})}),Object(ot.jsxs)(et.a,{item:!0,children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:["APR\xa0",Object(ot.jsx)(at.a,{title:"Annual Percentage Rate - APR is only shown for coins with a known value",placement:"top",children:Object(ot.jsx)(On.a,{fontSize:"small"})})]}),e.pool?Object(ot.jsx)(Xe.a,{variant:"subtitle1",children:e.pool.apr?Object(ot.jsx)(ot.Fragment,{children:e.pool&&e.pool.apr?e.pool.apr.eq(new h.a(0))?"-":e.pool.apr.toFormat(2)+"%":"-"}):Object(ot.jsx)(ot.Fragment,{children:"-"})}):Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"60px"})]}),Object(ot.jsxs)(et.a,{item:!0,children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:["Total ",null===(n=e.pool)||void 0===n?void 0:n.stakingToken.originalSymbol," staked\xa0",Object(ot.jsx)(at.a,{title:"Total staked by all users",placement:"top",children:Object(ot.jsx)(On.a,{fontSize:"small"})})]}),e.pool?Object(ot.jsx)("div",{children:Object(ot.jsx)(Xe.a,{variant:"subtitle1",children:e.pool?Nn.formatBigNumber(e.pool.totalStaked,e.pool.stakingToken.decimals,2):"0"})}):Object(ot.jsx)(xn.a,{animation:"wave",height:25,width:"120px"})]}),Object(ot.jsx)(et.a,{item:!0,children:Object(ot.jsx)(Bn,{pool:e.pool})})]})})]})}),"MAINNET v0.2"===(null===J||void 0===J?void 0:J.name)?Object(ot.jsx)(yn.a,{severity:"error",children:"For the safety of your assets, unstake from these pools and use v0.3 pools."}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&3===(null===e||void 0===e||null===(r=e.pool)||void 0===r?void 0:r.id)?Object(ot.jsxs)(yn.a,{severity:"warning",children:["This pool is broken and wont provide rewards, ",Object(ot.jsx)("strong",{children:"UNSTAKE"})," and use the other EARN BTC pool! See Discord for more info."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&8===(null===e||void 0===e||null===(i=e.pool)||void 0===i?void 0:i.id)?Object(ot.jsxs)(yn.a,{severity:"success",children:["Use this ",Object(ot.jsx)("strong",{children:"NEW"})," pool for BTC rewards!"]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&20===(null===e||void 0===e||null===(o=e.pool)||void 0===o?void 0:o.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This is a ",Object(ot.jsx)("strong",{children:"LOCKED"})," pool. Deposits are locked for ",Object(ot.jsx)("strong",{children:"24 hours"})," after depositing."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&29===(null===e||void 0===e||null===(c=e.pool)||void 0===c?void 0:c.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MINIMUM"})," of 1 million Viva."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&30===(null===e||void 0===e||null===(s=e.pool)||void 0===s?void 0:s.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MINIMUM"})," of 500,000 Viva."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&59===(null===e||void 0===e||null===(u=e.pool)||void 0===u?void 0:u.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MINIMUM"})," of 2,000 Viva."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&65===(null===e||void 0===e||null===(l=e.pool)||void 0===l?void 0:l.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MINIMUM"})," of 2,000 Viva."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&66===(null===e||void 0===e||null===(d=e.pool)||void 0===d?void 0:d.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MINIMUM"})," of 1,000,000 ViCat."]}):null,"MAINNET v0.4"===(null===J||void 0===J?void 0:J.name)&&105===(null===e||void 0===e||null===(f=e.pool)||void 0===f?void 0:f.id)?Object(ot.jsxs)(yn.a,{severity:"info",children:["This pool has a deposit ",Object(ot.jsx)("strong",{children:"MAXIMUM"})," of 12,000,000,000,000 CENT."]}):null,te>0?Object(ot.jsxs)(yn.a,{severity:"info",children:["This is a ",Object(ot.jsx)("strong",{children:"LOCKED"})," pool. Deposits and rewards cannot be withdrawn until the the pool ends ",Object(ot.jsxs)("strong",{children:["(max ",te," days)"]}),"."]}):null,Object(ot.jsx)(_n.a,{sx:{backgroundColor:"rgba(217, 217, 217, 0.3)",pt:2},children:Object(ot.jsxs)(et.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(ot.jsxs)(et.a,{item:!0,sx:{mr:4},children:[Object(ot.jsxs)(An.a,{underline:"none",href:null!==(p=null===(b=e.pool)||void 0===b?void 0:b.rewardToken.url)&&void 0!==p?p:"#",target:"_blank",sx:{cursor:"pointer",display:"flex",alignItems:"center"},children:["View ",null===(j=e.pool)||void 0===j?void 0:j.rewardToken.originalSymbol,"\xa0",Object(ot.jsx)(mn.a,{fontSize:"small"})]}),Object(ot.jsxs)(An.a,{underline:"none",href:null!==(m=null===(k=e.pool)||void 0===k?void 0:k.stakingToken.url)&&void 0!==m?m:"#",target:"_blank",sx:{cursor:"pointer",display:"flex",alignItems:"center"},children:["View ",null===(O=e.pool)||void 0===O?void 0:O.stakingToken.originalSymbol,"\xa0",Object(ot.jsx)(mn.a,{fontSize:"small"})]})]}),Object(ot.jsx)(et.a,{item:!0,xs:!0,container:!0,alignItems:"center",children:Object(ot.jsxs)(et.a,{item:!0,container:!0,justifyContent:"space-evenly",direction:"row",spacing:2,children:[Object(ot.jsx)(et.a,{item:!0,xs:12,md:6,lg:5,zeroMinWidth:!0,children:Object(ot.jsxs)(Qn,{variant:"outlined",children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:[null===(g=e.pool)||void 0===g?void 0:g.rewardToken.originalSymbol," earned since last claim"]}),Object(ot.jsxs)(Ze.a,{sx:{display:"flex",alignItems:"center"},children:[e.pool?Object(ot.jsx)(Xe.a,{sx:{width:"100%"},noWrap:!0,children:Object(ot.jsx)(zn,{pool:e.pool,decimals:18,account:e.account,setCanClaim:M})}):Object(ot.jsx)(xn.a,{animation:"wave",height:30,width:"100%"}),Object(ot.jsx)(Ze.a,{sx:{ml:2},children:Object(ot.jsx)(Pn,{variant:"contained",size:"large",callbackFn:oe,disabled:!D,children:"Claim"})})]})]})}),e.account?Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(et.a,{item:!0,xs:12,md:6,lg:5,zeroMinWidth:!0,children:Object(ot.jsxs)(Qn,{variant:"outlined",children:[Object(ot.jsxs)(Xe.a,{variant:"body2",color:"text.secondary",children:[null===(w=e.pool)||void 0===w?void 0:w.stakingToken.originalSymbol," Staked"]}),Object(ot.jsxs)(Ze.a,{sx:{display:"flex",alignItems:"center"},children:[e.pool?Object(ot.jsx)(Xe.a,{sx:{width:"100%"},noWrap:!0,children:function(t){var n;return null!==(n=e.pool)&&void 0!==n&&n.userInfo?Nn.formatBigNumber(e.pool.userInfo.stakingBalance,e.pool.stakingToken.decimals,t):"0"}(18)}):Object(ot.jsx)(xn.a,{animation:"wave",height:30,width:"100%"}),Object(ot.jsx)(at.a,{title:"+ automatically claim pending rewards",placement:"bottom",children:Object(ot.jsx)(Dt.a,{variant:"contained",size:"large",sx:{ml:2},onClick:function(){S(Object(v.a)(Object(v.a)({},T),{},{type:me.b.WITHDRAW,open:!0}))},disabled:!U,children:"Withdraw"})})]})]})}),Object(ot.jsx)(et.a,{item:!0,xs:12,md:!0,sx:{display:"flex",alignItems:"center"},children:Object(ot.jsx)(at.a,{title:"+ automatically claim pending rewards",placement:"bottom",children:Object(ot.jsx)(Dt.a,{variant:"contained",size:"large",fullWidth:!0,onClick:function(){S(Object(v.a)(Object(v.a)({},T),{},{type:me.b.DEPOSIT,open:!0}))},disabled:!N,children:"Stake"})})})]}):Object(ot.jsx)(et.a,{item:!0,xs:12,md:6,lg:5,children:Object(ot.jsxs)(Qn,{variant:"outlined",children:[Object(ot.jsx)(Xe.a,{variant:"body2",color:"text.secondary",children:"Start staking"}),Object(ot.jsx)(Dt.a,{variant:"contained",size:"large",fullWidth:!0,disabled:!e.pool,onClick:function(){z.emitConnectWalletDialog(!0)},children:"Connect wallet"})]})})]})})]})})]}),e.pool&&Object(ot.jsx)(qn,{pool:e.pool,state:T,setState:S})]})},Zn=Object(E.a)(),er=function(e){var t=Object(a.useState)(!0),n=Object(Ge.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(e.pools),c=Object(Ge.a)(o,2),s=c[0],u=c[1],l=Object(a.useState)(e.pools),d=Object(Ge.a)(l,2),f=d[0],h=d[1],p=Object(a.useState)(F.c),b=Object(Ge.a)(p,2),j=b[0],m=b[1],k=Object(L.a)(),O=Se();return Object(a.useEffect)((function(){e.pools?i(!1):i(!0),u(e.pools)}),[e.pools]),Object(a.useEffect)((function(){h(pn.filterPools(j,s))}),[s,j]),Object(a.useEffect)((function(){var e=function(e,t){m(t)};return k.on(me.a.PoolFilterValuesChanged,e),function(){Zn.info("emitter.off",me.a.PoolFilterValuesChanged)(),k.off(me.a.PoolFilterValuesChanged,e)}}),[k]),Object(a.useEffect)((function(){var t=function(e){if(s&&e){var t=s.findIndex((function(t){return t.id===e.id}));if(t>=0){var n=Object(ln.a)(s);n[t]=Object(v.a)({},e),u(n)}else u([e].concat(Object(ln.a)(s)))}},n=function(){var n=Object(y.a)(A.a.mark((function n(r,a,i){var o;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.datasource.getPoolAsync(r,e.account);case 2:o=n.sent,t(o);case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();return k.on(me.a.PoolDeposit,n),k.on(me.a.PoolWithdraw,n),function(){Zn.info("emitter.off",me.a.PoolDeposit)(),k.off(me.a.PoolDeposit,n),k.off(me.a.PoolWithdraw,n)}}),[k,s,O,e.account]),!r&&f&&f.length<=0?Object(ot.jsx)(et.a,{item:!0,xs:12,md:6,children:Object(ot.jsx)(tn,{message:"No pools found.",type:"default"})},"1"):Object(ot.jsx)(et.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:r?Object(ot.jsx)(ot.Fragment,{children:[0,1,2].map((function(e){return Object(ot.jsx)(et.a,{item:!0,xs:12,md:10,children:Object(ot.jsx)(Yn,{})},e)}))}):Object(ot.jsx)(ot.Fragment,{children:null===f||void 0===f?void 0:f.map((function(t){return Object(ot.jsx)(et.a,{item:!0,xs:12,md:10,children:Object(ot.jsx)(Yn,{account:e.account,pool:t})},t.id)}))})})},tr=Object(d.a)("div")({background:'url("./watermelon.jpeg") left center',boxShadow:"0px 0px 20px #AAA",borderRadius:"4px",height:240,width:"100%",padding:40,margin:0}),nr=function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(yn.a,{severity:"success",children:["Welcome to our v0.4 pools! Earn BTC, ETH, NANO and more! Also, Viva is now listed, ",Object(ot.jsx)("a",{href:"https://x.vite.net/trade?symbol=VIVA-000_VITE",children:"buy Viva at ViteX.net!"})," "]}),Object(ot.jsxs)(tr,{children:[Object(ot.jsx)(Xe.a,{variant:"h4",align:"left",color:"textSecondary",paragraph:!0,children:"Juicy Rewards!"}),Object(ot.jsxs)(Xe.a,{align:"left",fontSize:"large",color:"textSecondary",maxWidth:"sm",paragraph:!0,children:["Stake in Viva pools to earn rewards! No fees, instant staking! ",Object(ot.jsx)("br",{}),"A healthy way to earn with your crypto."]}),Object(ot.jsx)(Dt.a,{variant:"contained",color:"primary",href:"https://docs.vivafi.org/mainnet-tutorial",children:"Tutorial"})]})]})},rr=function(){var e,t=Ct(),n=Object(Zt.a)(He,{variables:{account:t.account},fetchPolicy:"network-only"}),r=n.error;return r?Object(ot.jsx)(et.a,{item:!0,xs:12,md:6,children:Object(ot.jsx)(tn,{message:r.message,type:"warning"})},"1"):Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(nr,{}),Object(ot.jsx)(jt.a,{sx:{pt:6,pb:6},maxWidth:"lg",children:Object(ot.jsxs)(et.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(ot.jsx)(un,{}),Object(ot.jsx)(er,{account:t.account,pools:null===(e=n.data)||void 0===e?void 0:e.pools})]})})]})},ar=n(348),ir=i.a.forwardRef((function(e,t){return Object(ot.jsx)(ar.a,Object(v.a)({direction:"up",ref:t},e))})),or=function(){var e=Object(a.useState)(!1),t=Object(Ge.a)(e,2),n=t[0],r=t[1],i=Object(L.a)();Object(a.useEffect)((function(){var e=function(e){r(e)};return i.on(me.a.ConfirmTransactionDialog,e),function(){i.off(me.a.ConfirmTransactionDialog,e)}}),[i,r]);var o=function(){r(!1)};return Object(ot.jsxs)(Mt.a,{open:n,TransitionComponent:ir,keepMounted:!0,onClose:o,style:{zIndex:9999},children:[Object(ot.jsx)(Wt.a,{children:"ViteConnect"}),Object(ot.jsx)(Rt.a,{children:Object(ot.jsx)(Ut.a,{children:"Please confirm transaction on VITE Wallet App"})}),Object(ot.jsx)(Wn.a,{children:Object(ot.jsx)(Dt.a,{onClick:o,color:"primary",children:"Close"})})]})},cr=function(){var e=ge(),t=Object(L.a)(),n=Object(Zt.a)(Me,{fetchPolicy:"network-only"});return Object(a.useEffect)((function(){var r=setInterval(Object(y.a)(A.a.mark((function r(){var a,i;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.refetch();case 2:null!==(a=n.data)&&void 0!==a&&a.networkBlockHeight&&(i=n.data.networkBlockHeight,t.emitNetworkBlockHeightChanged(i),e.networkHeight=i);case 3:case"end":return r.stop()}}),r)}))),1e3);return function(){clearInterval(r)}})),Object(ot.jsx)(ot.Fragment,{})},sr=function(){var e=a.useState(!0),t=Object(Ge.a)(e,2),n=t[0],r=t[1];return Object(ot.jsx)(ot.Fragment,{children:Object(ot.jsxs)(Mt.a,{open:n,onClose:function(e,t){"backdropClick"!==t&&r(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ot.jsx)(Wt.a,{id:"alert-dialog-title",children:"Disclaimer"}),Object(ot.jsxs)(Rt.a,{children:[Object(ot.jsx)(yn.a,{severity:"info",children:"Welcome to Viva! Please read the following before using Viva."}),Object(ot.jsx)("br",{}),Object(ot.jsxs)(Ut.a,{id:"alert-dialog-description",children:["Viva is an open source decentralized application operating on the Vite blockchain. As with all early-stage products there are risks associated with using the protocol and users assume the full responsibility for these risks. You should not deposit any money you are not comfortable losing.",Object(ot.jsx)("br",{}),Object(ot.jsx)("br",{}),'THE VIVA PROTOCOL AND ACCESS TO THE PROTOCOL IS PROVIDED "AS IS", AT YOUR OWN RISK, AND WITHOUT WARRANTIES OF ANY KIND.']})]}),Object(ot.jsxs)(Wn.a,{children:[Object(ot.jsx)(Dt.a,{href:"https://vivafi.org",children:"Disagree"}),Object(ot.jsx)(Dt.a,{onClick:function(){r(!1)},autoFocus:!0,children:"Agree"})]})]})})},ur=function(e){return Et.snackbar=Object(p.b)(),Object(ot.jsxs)(yt,{children:[Object(ot.jsx)(sr,{}),Object(ot.jsx)(Yt,{}),Object(ot.jsx)(cr,{}),Object(ot.jsxs)(gt,{children:[Object(ot.jsx)(rr,{}),Object(ot.jsx)(or,{})]}),Object(ot.jsx)(dt,{})]})},lr=Object(d.a)("div")("\n  width: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  background-image: url('".concat(b,"');\n")),dr=function(){var e=i.a.useMemo((function(){return Je()}),[]);return h.a.config({EXPONENTIAL_AT:1e9}),Object(ot.jsx)(lr,{children:Object(ot.jsx)(p.a,{maxSnack:3,children:Object(ot.jsx)(l.a,{client:e,children:Object(ot.jsx)(At,{children:Object(ot.jsx)(It,{children:Object(ot.jsx)(ur,{})})})})})})},fr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,410)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},hr=n(175),pr=n(101),br=Object(hr.a)({typography:{fontFamily:["Lato","Arial"].join(","),h6:{fontFamily:["Montserrat"].join(",")}},palette:{primary:{main:"#248C66"},secondary:{main:"#4BD1A0"},error:{main:pr.a.A400}}});c.a.render(Object(ot.jsxs)(u.a,{theme:br,children:[Object(ot.jsx)(s.a,{}),Object(ot.jsx)(dr,{})]}),document.querySelector("#root")),fr()},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(18),i=n(19),o=n(5),c=n.n(o),s=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"isString",value:function(e){return"string"===typeof e||e instanceof String}},{key:"isNullOrWhitespace",value:function(t){return!e.isString(t)||(null===t||void 0===t||""===t.trim())}},{key:"isNullOrDefault",value:function(t,n){return e.isNullOrWhitespace(t)||t===n}},{key:"timeout",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"toJsonString",value:function(e){return JSON.stringify(e,null,2)}},{key:"imageUrlToBlob",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.abrupt("return",e.sent.blob());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"equals",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}]),e}();s.truncateString=function(e,t){return e&&t<e.length?"".concat(e.substr(0,t),"..."):e},s.truncateStringInTheMiddle=function(e,t,n){if(e&&t+n<e.length)return"".concat(e.substr(0,t),"...").concat(e.substr(e.length-n,e.length));return e}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(18),a=n(19),i=n(44),o=n(45),c=n(132),s=n.n(c),u=n(26),l=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"emitConfirmTransactionDialog",value:function(e){this.emit(u.a.ConfirmTransactionDialog,e)}},{key:"emitConnectWalletDialog",value:function(e){this.emit(u.a.ConnectWalletDialog,e)}},{key:"emitNetworkBlockHeightChanged",value:function(e){this.emit(u.a.NetworkBlockHeightChanged,e)}},{key:"emitPoolFilterValuesChanged",value:function(e,t){this.emit(u.a.PoolFilterValuesChanged,e,t)}},{key:"emitPoolDeposit",value:function(e,t,n){this.emit(u.a.PoolDeposit,e,t,n)}},{key:"emitPoolWithdraw",value:function(e,t,n){this.emit(u.a.PoolWithdraw,e,t,n)}},{key:"emitPoolUpdate",value:function(e){this.emit(u.a.PoolUpdate,e)}}]),n}(s.a),d=new l,f=function(){return d}},50:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return A})),n.d(t,"h",(function(){return B})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return w}));var r,a=n(12),i=n(18),o=n(19),c=n(91),s=n(61),u=n(44),l=n(45),d=n(5),f=n.n(d),h=n(203),p=n.n(h),b=n(27);!function(e){e.Web="Web",e.Session="Session"}(r||(r={}));var v,j=function(){function e(t,n){Object(i.a)(this,e),this._type=void 0,this.active=void 0,this.accounts=[],this._type=t,this.baseInitinit(n)}return Object(o.a)(e,[{key:"type",get:function(){return this._type}},{key:"baseInitinit",value:function(e){var t=this;e&&(this.active=e.active?this.createAccount(e.active):void 0,e.accounts&&Array.isArray(e.accounts)&&e.accounts.forEach((function(e){t.accounts.push(t.createAccount(e))}))),this.accounts||(this.accounts=[])}}],[{key:"fromJS",value:function(e){switch((e="object"===typeof e?e:{})._type){case r.Web:return new m(e);case r.Session:return new k(e)}}}]),e}(),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,r.Web,e)).mnemonic=void 0,a.init(e),a}return Object(o.a)(n,[{key:"init",value:function(e){e&&(this.mnemonic=e.mnemonic)}},{key:"createAccount",value:function(e){return new g(e)}}]),n}(j),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,r.Session,e)).session=void 0,a.timestamp=void 0,a.init(e),a}return Object(o.a)(n,[{key:"init",value:function(e){e&&(this.session=e.session,this.timestamp=e.timestamp)}},{key:"createAccount",value:function(e){return new w(e)}}]),n}(j);!function(e){e.Web="Web",e.Session="Session"}(v||(v={}));var O=function(){function e(t,n){Object(i.a)(this,e),this._type=void 0,this.id=void 0,this.address=void 0,this._type=t,this.baseInit(n)}return Object(o.a)(e,[{key:"type",get:function(){return this._type}},{key:"baseInit",value:function(e){e&&(this.id=e.id,this.address=e.address)}}],[{key:"fromJS",value:function(e){switch((e="object"===typeof e?e:{})._type){case r.Web:return new g(e);case r.Session:return new w(e)}}}]),e}(),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,v.Web,e)).privateKey=void 0,r.init(e),r}return Object(o.a)(n,[{key:"init",value:function(e){e&&(this.privateKey=e.privateKey)}}]),n}(O),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,v.Session,e)}return Object(o.a)(n)}(O),x=Object(b.a)(),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this,r,a))._walletManager=void 0,o._walletManager=e,o.on("connect",(function(e,t){x.info("WalletConnector.connect",e,t)();var n=t.params[0].accounts;o.saveSession(n)})),o.on("disconnect",(function(e,t){x.info("WalletConnector.disconnect",e,t)(),o.stopBizHeartBeat(),o._walletManager.removeWallet()})),o.on("session_update",(function(e,t){x.info("WalletConnector.session_update",e,t)();var n=t[0];n&&n.accounts&&o.saveSession(n.accounts)})),o}return Object(o.a)(n,[{key:"uri",get:function(){return Object(c.a)(Object(s.a)(n.prototype),"uri",this)}},{key:"on",value:function(e,t){return Object(c.a)(Object(s.a)(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){return Object(c.a)(Object(s.a)(n.prototype),"off",this).call(this,e,t)}},{key:"saveSession",value:function(e){if(!e||!e[0])throw new Error("address is null");for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(new w({id:n.toString(),address:r}))}var a=new k({active:t[0],accounts:t,session:this.session,timestamp:(new Date).getTime()});this._walletManager.setWallet(a)}},{key:"updateSession",value:function(){var e=this._walletManager.getWallet();e&&e instanceof k&&(e.timestamp=(new Date).getTime(),this._walletManager.updateWalletStore(e))}},{key:"createSession",value:function(){var e=Object(a.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(Object(s.a)(n.prototype),"createSession",this).call(this);case 2:return e.abrupt("return",this.uri);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransactionAsync",value:function(){var e=Object(a.a)(f.a.mark((function e(){var t,n,r,a=this,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return e.abrupt("return",new Promise((function(e,t){a.on("disconnect",(function(){t("Request aborted due to disconnect.")})),a.sendCustomRequest({method:"vite_signAndSendTx",params:n}).then((function(t){a.updateSession(),e(t)})).catch((function(e){t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"signMessageAsync",value:function(){var e=Object(a.a)(f.a.mark((function e(){var t,n,r,a=this,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return e.abrupt("return",new Promise((function(e,t){a.on("disconnect",(function(){t("Request aborted due to disconnect.")})),a.sendCustomRequest({method:"vite_signMessage",params:n}).then((function(t){a.updateSession(),e(t)})).catch((function(e){t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"killSessionAsync",value:function(){var e=Object(a.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(Object(s.a)(n.prototype),"killSession",this).call(this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(p.a),_=Object(b.a)(),A=function(){function e(t){Object(i.a)(this,e),this._walletManager=void 0,this._walletManager=t}return Object(o.a)(e,[{key:"create",value:function(e){var t=this._walletManager.getValidSession(),n=this._walletManager.getActiveAccount(),r={bridge:e.connectorUrl,session:t},a=n?{lastAccount:n.address}:void 0,i=new y(this._walletManager,r,a);return t||i.createSession().then((function(){return _.info("IWalletConnector connected",i.uri)()})),i}}]),e}(),T=n(63),S=n(24),C=Object(b.a)(),I=function(){function e(){Object(i.a)(this,e),this._webWalletKey=S.a.WEB_WALLET_STORAGE_SPACE,this._sessionWalletKey=S.a.SESSION_WALLET_STORAGE_SPACE}return Object(o.a)(e,[{key:"clear",value:function(){localStorage.removeItem(this._webWalletKey),sessionStorage.removeItem(this._sessionWalletKey)}},{key:"getItem",value:function(){var e;try{(e=localStorage.getItem(this._webWalletKey))||(e=sessionStorage.getItem(this._sessionWalletKey))}catch(t){return void C.error(t)()}if(e)try{return j.fromJS(JSON.parse(e))}catch(t){return void C.error(t)()}}},{key:"setItem",value:function(e){var t=JSON.stringify(e);try{switch(e.type){case r.Web:localStorage.setItem(this._webWalletKey,t);break;case r.Session:sessionStorage.setItem(this._sessionWalletKey,t);break;default:throw new Error("Wallet type '".concat(e.type,"' is not supported."))}}catch(n){C.error(n)()}}}]),e}(),N=Object(b.a)(),E=function(){function e(){Object(i.a)(this,e),this._store=void 0,this._wallet=void 0,this._mnemonicDeriveIndex=0,this._setWalletCallback=void 0,this._store=new I}return Object(o.a)(e,[{key:"initWallet",value:function(){var e=this._store.getItem();e&&(this._wallet=e,this._mnemonicDeriveIndex=e.accounts.length,this.updateWallet())}},{key:"onSetWalletCallback",set:function(e){this._setWalletCallback=e}},{key:"getWallet",value:function(){return this._wallet}},{key:"setWallet",value:function(e){this._wallet=e,this.updateWalletStore(e),this.updateWallet()}},{key:"updateWallet",value:function(){this._setWalletCallback&&this._setWalletCallback(this._wallet)}},{key:"updateWalletStore",value:function(e){e&&this._store.setItem(e)}},{key:"createWebWallet",value:function(e){if(this.validateMnemonic(e)){this.resetWallet();var t=this.createWebWalletAccount(e,0),n=new m({active:t,mnemonic:e,accounts:[t]});return this.setWallet(n),n}}},{key:"removeWallet",value:function(){this.resetWallet(),this.updateWallet()}},{key:"getAccountByAddress",value:function(e){var t,n;return null===(t=this._wallet)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.find((function(t){return t.address===e}))}},{key:"addAccount",value:function(){if(this._wallet instanceof m){var e=this.createWebWalletAccount(this._wallet.mnemonic);return this._wallet.accounts.push(e),this.setActiveAccount(e),e}}},{key:"getActiveAccount",value:function(){var e;return null===(e=this._wallet)||void 0===e?void 0:e.active}},{key:"setActiveAccount",value:function(e){return!!this._wallet&&(this._wallet.active=e,this._store.setItem(this._wallet),this.updateWallet(),!0)}},{key:"getAccounts",value:function(){return this._wallet?this._wallet.accounts:[]}},{key:"getValidSession",value:function(){var e=this._store.getItem();if(e&&e instanceof k){if((new Date).getTime()-e.timestamp<6e5)return e.session;N.info("Found expired session.",e)()}}},{key:"resetWallet",value:function(){this._wallet=void 0,this._mnemonicDeriveIndex=0,this._store.clear()}},{key:"createWebWalletAccount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._mnemonicDeriveIndex,n=T.wallet.deriveAddress({mnemonics:e,index:t}),r=n.privateKey,a=new g({id:t.toString(),privateKey:r,address:T.wallet.createAddressByPrivateKey(r).address});return this._mnemonicDeriveIndex=t+1,a}},{key:"validateMnemonic",value:function(e){return!!e&&T.wallet.validateMnemonics(e)}}]),e}(),P=new E,B=function(){return P}}},[[293,1,2]]]);
//# sourceMappingURL=main.72306a66.chunk.js.map